<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/icons8-%E7%8C%AB-32-4.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/icons8-%E7%8C%AB-16-4.ico"><link rel="mask-icon" href="/images/logo.svg" color="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.loli.net/css?family=EB Garamond:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css"><script src="/lib/pace/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"ycchen00.github.io",root:"/",scheme:"Gemini",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!0,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="介绍了SQL基本用法以及相关Python API的用法，同SQL4DS笔记~"><meta property="og:type" content="article"><meta property="og:title" content="SQL | SQL+Python API相关入门教程"><meta property="og:url" content="https://ycchen00.github.io/2021/08/18/DSci/SQL/SQL+Python%20API%E7%9B%B8%E5%85%B3%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B(SQL4DS%E7%AC%94%E8%AE%B0)/index.html"><meta property="og:site_name" content="猫咪的小鱼干"><meta property="og:description" content="介绍了SQL基本用法以及相关Python API的用法，同SQL4DS笔记~"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://img-blog.csdnimg.cn/20210126210729245.png#pic_center"><meta property="og:image" content="https://img-blog.csdnimg.cn/20210127115401757.png#pic_center"><meta property="og:image" content="https://img-blog.csdnimg.cn/20210127130714655.png#pic_center"><meta property="og:image" content="https://img-blog.csdnimg.cn/2021012711552162.png#pic_center"><meta property="og:image" content="https://img-blog.csdnimg.cn/20210127115659689.png#pic_center"><meta property="og:image" content="https://img-blog.csdnimg.cn/20210127120855733.png#pic_center"><meta property="og:image" content="https://img-blog.csdnimg.cn/20210127132159783.png#pic_center"><meta property="og:image" content="https://img-blog.csdnimg.cn/2021012713271477.png#pic_center"><meta property="og:image" content="https://img-blog.csdnimg.cn/20210127131157940.png#pic_center"><meta property="og:image" content="https://img-blog.csdnimg.cn/20210126221028307.png#pic_center"><meta property="og:image" content="https://img-blog.csdnimg.cn/20210126223017206.png#pic_center"><meta property="og:image" content="https://ibm.box.com/shared/static/ztd2cn4xkdoj5erlk4hhng39kbp63s1h.jpg"><meta property="og:image" content="https://ibm.box.com/shared/static/j5yjassxefrjknivfpekj7698dqe4d8i.jpg"><meta property="og:image" content="https://ibm.box.com/shared/static/uy78gy1uq3uj6fkvd4muzy5zcr62tb72.png"><meta property="og:image" content="https://img-blog.csdnimg.cn/20210127141546152.png#pic_center"><meta property="article:published_time" content="2021-08-18T06:54:26.637Z"><meta property="article:modified_time" content="2021-03-27T14:43:28.865Z"><meta property="article:author" content="买猫咪的小鱼干"><meta property="article:tag" content="DataScience"><meta property="article:tag" content="Visualization"><meta property="article:tag" content="Python"><meta property="article:tag" content="SQL"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://img-blog.csdnimg.cn/20210126210729245.png#pic_center"><link rel="canonical" href="https://ycchen00.github.io/2021/08/18/DSci/SQL/SQL+Python%20API%E7%9B%B8%E5%85%B3%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B(SQL4DS%E7%AC%94%E8%AE%B0)/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><script>window.addEventListener('DOMContentLoaded', () => {
    'use strict';
    
      if (NexT.utils.hasMobileUA()) return;
    
    let time, hidden, visible, title = document.title;
    let favicon = document.querySelector('link[rel="icon"]');
    
      hidden = '╭(°A°`)╮猫咪出门啦~';
      visible = 'o(=•ェ•=)m猫咪又回来啦~';
    
    let random = t => t[Math.floor(Math.random() * t.length)];
    const change = () => {
      if (document.hidden) {
        favicon.setAttribute('href', '/images/icons8-猫屁股-16.png');
        
          document.title = hidden;
        
        clearTimeout(time);
      } else {
        favicon.setAttribute('href', '/images/icons8-猫-16-4.ico');
        
          document.title = visible;
        
        time = setTimeout(() => {
          document.title = title;
        }, 2020);
      }
    }
    document.addEventListener('visibilitychange', change, false);
  });</script><title>SQL | SQL+Python API相关入门教程 | 猫咪的小鱼干</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="猫咪的小鱼干" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">猫咪的小鱼干</h1><span class="logo-line-after"><i></i></span></a></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-movies"><a href="/movies/" rel="section"><i class="fas fa-film fa-fw"></i>观影</a></li><li class="menu-item menu-item-books"><a href="/books/" rel="section"><i class="fas fa-book fa-fw"></i>阅读</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a role="button" class="book-mark-link book-mark-link-fixed"></a> <a href="https://github.com/ycchen00" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://ycchen00.github.io/2021/08/18/DSci/SQL/SQL+Python%20API%E7%9B%B8%E5%85%B3%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B(SQL4DS%E7%AC%94%E8%AE%B0)/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar_blackRainbow.jpg"><meta itemprop="name" content="买猫咪的小鱼干"><meta itemprop="description" content="overthinker"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="猫咪的小鱼干"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">SQL | SQL+Python API相关入门教程<a href="https://github.com/ycchen00/ycchen00.github.io/tree/hexo/source/_posts/DSci/SQL/SQL+Python%20API%E7%9B%B8%E5%85%B3%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B(SQL4DS%E7%AC%94%E8%AE%B0).md" class="post-edit-link" title="编辑" rel="noopener" target="_blank"><i class="fa fa-pencil-alt"></i></a></h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-08-18 02:54:26" itemprop="dateCreated datePublished" datetime="2021-08-18T02:54:26-04:00">2021-08-18</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-03-27 10:43:28" itemprop="dateModified" datetime="2021-03-27T10:43:28-04:00">2021-03-27</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/DSci/" itemprop="url" rel="index"><span itemprop="name">DSci</span></a> </span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/DSci/SQL/" itemprop="url" rel="index"><span itemprop="name">SQL</span></a> </span></span><span id="/2021/08/18/DSci/SQL/SQL+Python%20API%E7%9B%B8%E5%85%B3%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B(SQL4DS%E7%AC%94%E8%AE%B0)/" class="post-meta-item leancloud_visitors" data-flag-title="SQL | SQL+Python API相关入门教程" title="热度"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">热度：</span> <span class="leancloud-visitors-count"></span> <span>℃</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Disqus：</span> <a title="disqus" href="/2021/08/18/DSci/SQL/SQL+Python%20API%E7%9B%B8%E5%85%B3%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B(SQL4DS%E7%AC%94%E8%AE%B0)/#disqus_thread" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="2021/08/18/DSci/SQL/SQL+Python API相关入门教程(SQL4DS笔记)/" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>25k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>23 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p>学了Coursera上的Databases and SQL for Data Science，里面介绍了SQL基本用法以及相关Python API的用法，这里做个笔记，归纳下SQL常用的syntax，放丢失~</p><p>P.S.<br>coursera课程Quiz和Assignment链接：<br><a href="https://ycchen00.github.io/2021/02/04/Coursera/SQL4DS/Quiz/">Coursera | Databases and SQL for Data Science(IBM) | Quiz</a><br><a href="https://ycchen00.github.io/2021/02/04/Coursera/SQL4DS/Assignment">Coursera | Databases and SQL for Data Science(IBM) | Assignment</a></p><h1 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h1><h2 id="Introduction-2-SQL"><a href="#Introduction-2-SQL" class="headerlink" title="Introduction 2 SQL"></a>Introduction 2 SQL</h2><p><strong>What is data?</strong></p><ul><li>Facts</li><li>Pictures</li><li>One of the most critical assets of any business</li><li>Needs to be secure</li></ul><p><strong>What is database?</strong></p><ul><li>A repository of data</li><li>Provides the functionality for adding, modifying and querying that data</li></ul><p><strong>What is SQL?</strong></p><ul><li>A language used for relational databases</li><li>Query data</li></ul><p><strong>Relational Database</strong></p><ul><li>Data stored in tabular form - columns and rows</li><li>Columns contain item properties e.g. Last Name, First Name, etc.</li><li>Table is collection of related things e.g.<br>Employees, Authors, etc.</li><li>Relationships can exist betwee tables<br>(hence: “relational”)</li></ul><p><strong>DBMS</strong></p><ul><li>Database: repository of data</li><li>DBMS: Database Management System - software to manage databases</li><li>Database, Database Server, Database System, Data Server, DBMS - often used interchangeably</li></ul><p><strong>What is RDBMS?</strong></p><ul><li>RDBMS = Relational database management system</li><li>A set of software tools that controls the data<ul><li>access, organization, and storage</li></ul></li><li>Examples are: MySQL, Oracle Database, IBM Db2, etc.</li></ul><p><strong>Cloud databases</strong></p><ul><li>Ease of Use and Access<ul><li>API</li><li>Web Interface</li><li>Cloud or Remote Applications</li></ul></li><li>Scalability &amp; Economics<ul><li>Expand/Shrink Storage &amp; Compute Resources</li><li>Pay per use</li></ul></li><li>Disaster Recovery</li></ul><p>Examples:</p><ul><li>IBM Db2</li><li>Databases for PostgreSQL</li><li>Oracle Database Cloud Service</li><li>Microsoft Azure SQL Database</li><li>Amazon Reltaional Database Services(RDS)</li></ul><p>Available as:</p><ul><li>VMs or Managed Service</li><li>Single or Multi-tenant</li></ul><p><strong>Database service instances</strong></p><ul><li>DBaaS provides users with access to Database resources in cloud without setting up hardware and installing software</li><li>Database service instance holds data in data objects / tables</li><li>Once data is loaded, it can be queired using web interfaces and applications</li></ul><p><strong>Relational Model</strong></p><ul><li>Most used data model</li><li>Allows for data independence</li><li>Data is stored in tables</li></ul><p><strong>Enitity-Relationship Model</strong></p><ul><li>Used as a tool to design relational databases</li></ul><h3 id="Types-of-SQL-Statements-DDL-amp-DML"><a href="#Types-of-SQL-Statements-DDL-amp-DML" class="headerlink" title="Types of SQL Statements (DDL &amp; DML)"></a>Types of SQL Statements (DDL &amp; DML)</h3><ul><li><p>DDL (Data Definition Language) statements:</p><ul><li>Define, change, or drop data</li></ul></li></ul><ul><li>Common DDL:<ul><li>CREATE</li><li>ALTER</li><li>TRUNCATE</li><li>DROP</li></ul></li></ul><ul><li><p>DML (Data Manipulation Language) statements:</p><ul><li><p>Read and modify data</p></li><li><p>CRUD operations (<u>C</u>reate, <u>R</u>ead, <u>U</u>pate &amp; <u>D</u>elete rows)</p></li></ul></li></ul><ul><li><p>Common DML:</p><ul><li>INSERT</li><li>SELECT</li><li>UPDATE</li><li>DELETE</li></ul></li></ul><h3 id="CHAR-VS-VARCHAR"><a href="#CHAR-VS-VARCHAR" class="headerlink" title="CHAR VS VARCHAR"></a>CHAR VS VARCHAR</h3><table><thead><tr><th></th><th align="center">CHAR</th><th align="center">VARCHAR</th></tr></thead><tbody><tr><td>总结</td><td align="center">定长，效率高，一般用于固定长度的表单提交数据存储，例如：身份证号</td><td align="center">不定长，效率偏低</td></tr></tbody></table><p>转载：</p><p>1、<strong>CHAR</strong>的长度是不可变的，而<strong>VARCHAR</strong>的长度是可变的，也就是说，定义一个CHAR[10]和VARCHAR[10],如果存进去的是‘ABCD’, 那么CHAR所占的长度依然为10，除了字符‘ABCD’外，后面跟六个空格，而VARCHAR的长度变为4了，取数据的时候，CHAR类型的要用trim()去掉多余的空格，而VARCHAR类型是不需要的。</p><p>2、<strong>CHAR</strong>的存取速度要比<strong>VARCHAR</strong>快得多，因为其长度固定，方便程序的存储与查找；但是CHAR为此付出的是空间的代价，因为其长度固定，所以难免会有多余的空格占位符占据空间，可以说是以空间换取时间效率，而VARCHAR则是以空间效率为首位的。</p><p>3、<strong>CHAR</strong>的存储方式是，一个英文字符（ASCII）占用1个字节，一个汉字占用两个字节；而<strong>VARCHAR</strong>的存储方式是，一个英文字符占用2个字节，一个汉字也占用2个字节。</p><p>4、两者的存储数据都是非unicode的字符数据。</p><h2 id="Basic-SQL"><a href="#Basic-SQL" class="headerlink" title="Basic SQL"></a>Basic SQL</h2><h3 id="CREATE"><a href="#CREATE" class="headerlink" title="CREATE"></a>CREATE</h3><p><strong>Syntax:</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> table_name</span><br><span class="line">	(</span><br><span class="line">	column_name_1 datatype optional_parameters,</span><br><span class="line">	column_name_2 datatype,</span><br><span class="line">	...</span><br><span class="line">	column_name_n datatype</span><br><span class="line">    )</span><br></pre></td></tr></table></figure><p>Example:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> provinces(</span><br><span class="line">	<span class="keyword">id</span> <span class="built_in">char</span>(<span class="number">2</span>) PRIMARY <span class="keyword">KEY</span> <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">24</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    country <span class="built_in">char</span>(<span class="number">2</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="INSERT"><a href="#INSERT" class="headerlink" title="INSERT"></a>INSERT</h3><p><strong>Syntax:</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> [TableName]</span><br><span class="line">	([ColumnName], ...)</span><br><span class="line"><span class="keyword">VALUES</span> ([<span class="keyword">Value</span>], ...)</span><br></pre></td></tr></table></figure><p>Example:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> AUTHOR</span><br><span class="line">	(AUTHOR_ID, LASTNAME, FIRSTNAME, EMAIL, CITY, COUNTRY)</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">	(<span class="string">&#x27;A1&#x27;</span>,<span class="string">&#x27;Chong&#x27;</span>,<span class="string">&#x27;Raul&#x27;</span>,<span class="string">&#x27;rfc@ibm.com&#x27;</span>,<span class="string">&#x27;Toronto&#x27;</span>,<span class="string">&#x27;CA&#x27;</span>)</span><br><span class="line">	(blablabla...)</span><br><span class="line">	()</span><br></pre></td></tr></table></figure><h3 id="UPDATE"><a href="#UPDATE" class="headerlink" title="UPDATE"></a>UPDATE</h3><p><strong>Syntax:</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> [TableName]</span><br><span class="line"><span class="keyword">SET</span> [[ColumnName]=[<span class="keyword">Value</span>]]</span><br><span class="line">&lt;<span class="keyword">WHERE</span> [Condition]&gt;</span><br></pre></td></tr></table></figure><p>Example:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> AUTHOR</span><br><span class="line"><span class="keyword">SET</span> LASTNAME=<span class="string">&#x27;KATTA&#x27;</span></span><br><span class="line">	FIRSTNAME=<span class="string">&#x27;LAKSHMI&#x27;</span></span><br><span class="line">	<span class="keyword">WHERE</span> AUTHOR_ID=<span class="string">&#x27;A2&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="DELETE"><a href="#DELETE" class="headerlink" title="DELETE"></a>DELETE</h3><p><strong>Syntax:</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> [TableName]</span><br><span class="line">&lt;<span class="keyword">WHERE</span>[Condition]&gt;</span><br></pre></td></tr></table></figure><p>Example:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> AUTHOR</span><br><span class="line">	<span class="keyword">WHERE</span> AUTHOR_ID <span class="keyword">IN</span>(<span class="string">&#x27;A2&#x27;</span>,<span class="string">&#x27;A3&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="SELECT"><a href="#SELECT" class="headerlink" title="SELECT"></a>SELECT</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">from</span> &lt;tablename&gt;</span><br><span class="line"><span class="keyword">SELECT</span> &lt;<span class="keyword">column</span> <span class="number">1</span>&gt;, &lt;<span class="keyword">column</span> <span class="number">2</span>&gt; <span class="keyword">from</span> &lt;tablename&gt;</span><br></pre></td></tr></table></figure><h3 id="WHERE"><a href="#WHERE" class="headerlink" title="WHERE"></a>WHERE</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> book_id, title <span class="keyword">from</span> Book</span><br><span class="line">	<span class="keyword">WHERE</span> book_id = <span class="string">&#x27;B1&#x27;</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210126210729245.png#pic_center"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WHERE firstname LIKE R%</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">WHERE pages &gt;= 290 AND pages &lt;= 300</span><br><span class="line"></span><br><span class="line"><span class="comment">-- better one:</span></span><br><span class="line">WHERE pages between 290 and 300</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">WHERE country=&#x27;AU&#x27; OR country=&#x27;BR&#x27;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- better one:</span></span><br><span class="line">WHERE country IN(&#x27;AU&#x27;,&#x27;BR&#x27;)</span><br></pre></td></tr></table></figure><h3 id="COUNT"><a href="#COUNT" class="headerlink" title="COUNT"></a>COUNT</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">COUNT</span>(COUNTRY) <span class="keyword">as</span> CountC <span class="keyword">from</span> MEDALS</span><br><span class="line">	<span class="keyword">where</span> COUNTRY=<span class="string">&#x27;CANADA&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="DISTINCT"><a href="#DISTINCT" class="headerlink" title="DISTINCT"></a>DISTINCT</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">DISTINCT</span> COUNTRY <span class="keyword">from</span> MEDALS</span><br><span class="line">	<span class="keyword">where</span> MEDALTYPE = <span class="string">&#x27;GOLD&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="LIMIT"><a href="#LIMIT" class="headerlink" title="LIMIT"></a>LIMIT</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> MEDALS</span><br><span class="line">	<span class="keyword">where</span> <span class="keyword">YEAR</span> = <span class="number">2018</span> <span class="keyword">LIMIT</span> <span class="number">5</span></span><br><span class="line">	</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> census_data <span class="keyword">LIMIT</span> <span class="number">3</span></span><br></pre></td></tr></table></figure><h3 id="ORDER-BY"><a href="#ORDER-BY" class="headerlink" title="ORDER BY"></a>ORDER BY</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> title <span class="keyword">from</span> Book</span><br><span class="line">	<span class="keyword">ORDER</span> <span class="keyword">BY</span> title</span><br><span class="line">	</span><br><span class="line"><span class="comment">-- By default: ascending</span></span><br><span class="line">	<span class="keyword">ORDER</span> <span class="keyword">BY</span> title <span class="keyword">DESC</span></span><br></pre></td></tr></table></figure><h3 id="GROUP-BY"><a href="#GROUP-BY" class="headerlink" title="GROUP BY"></a>GROUP BY</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> country, <span class="keyword">count</span>(country)</span><br><span class="line">	<span class="keyword">as</span> <span class="keyword">Count</span> <span class="keyword">from</span> Author</span><br><span class="line">	<span class="keyword">group</span> <span class="keyword">by</span> country</span><br><span class="line">	<span class="keyword">having</span> <span class="keyword">count</span>(country) &gt; <span class="number">4</span></span><br></pre></td></tr></table></figure><h2 id="Built-in-Functions"><a href="#Built-in-Functions" class="headerlink" title="Built-in Functions"></a>Built-in Functions</h2><h3 id="SUM-MIN-MAX-AVG"><a href="#SUM-MIN-MAX-AVG" class="headerlink" title="SUM, MIN, MAX, AVG"></a>SUM, MIN, MAX, AVG</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">SUM</span>(<span class="keyword">COST</span>) <span class="keyword">as</span> SUM_OF_COST, <span class="keyword">MAX</span>(QUANTITY), <span class="keyword">MIN</span>(<span class="keyword">ID</span>), <span class="keyword">AVG</span>(<span class="keyword">COST</span>)</span><br><span class="line">	<span class="keyword">from</span> PETRESCUE</span><br></pre></td></tr></table></figure><h3 id="ROUND"><a href="#ROUND" class="headerlink" title="ROUND"></a>ROUND</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">ROUND</span>(<span class="keyword">COST</span>) <span class="keyword">from</span> PETRESCUE</span><br></pre></td></tr></table></figure><h3 id="LENGTH"><a href="#LENGTH" class="headerlink" title="LENGTH"></a>LENGTH</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">LENGTH</span>(ANIMAL) <span class="keyword">from</span> PETRESCUE</span><br></pre></td></tr></table></figure><h3 id="UCASE-LCASE"><a href="#UCASE-LCASE" class="headerlink" title="UCASE, LCASE"></a>UCASE, LCASE</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">UCASE</span>(ANIMAL), <span class="keyword">LCASE</span>(ANIMAL) <span class="keyword">from</span> PERTRESCUE</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> PERTRESCUE</span><br><span class="line">	<span class="keyword">where</span> <span class="keyword">LCASE</span>(ANIMAL) = <span class="string">&#x27;cat&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="Date-and-Time"><a href="#Date-and-Time" class="headerlink" title="Date and Time"></a>Date and Time</h3><p>DATE: YYYYMMDD</p><p>TIME: HHMMSS</p><p>TIMESTAMP: YYYYXXDDHHMMSSZZZZZZ</p><p>DATE / Time functions:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">YEAR(), MONTH(), DAY(), DAYOFMONTH(), DAYOFWEEK(), DAYOFYEAR(), WEEK(), HOUR(), MINUTE(), SECOND()</span><br></pre></td></tr></table></figure><p>Example:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">DAY</span>(RESCUEDATE) <span class="keyword">from</span> PETRESCUE</span><br><span class="line">	<span class="keyword">where</span> ANIMAL=<span class="string">&#x27;Cat&#x27;</span></span><br><span class="line">	</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">COUNT</span>(*) <span class="keyword">from</span> PETRSCUE</span><br><span class="line">	<span class="keyword">where</span> <span class="keyword">MONTH</span>(RESCUDATE)=<span class="string">&#x27;05&#x27;</span></span><br><span class="line">	</span><br><span class="line"><span class="keyword">select</span> (PESCUEDATE + <span class="number">3</span> <span class="keyword">DAYS</span>) <span class="keyword">from</span> PERTRESCUE</span><br></pre></td></tr></table></figure><p>Specail Registers:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CURRENT_DATE, CURRENT_TIME</span><br></pre></td></tr></table></figure><p>Example:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> (<span class="keyword">CURRENT_DATE</span> - RESCUDEDATE) <span class="keyword">from</span> PETRESCUE</span><br></pre></td></tr></table></figure><h3 id="REPLACE"><a href="#REPLACE" class="headerlink" title="REPLACE"></a>REPLACE</h3><p>Example:</p><p>Remove the ‘%’ sign from the above result set for Average Student Attendance column</p><p>Use the REPLACE() function to replace ‘%’ with ‘’</p><p>See <a target="_blank" rel="noopener" href="https://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.sql.ref.doc/doc/r0000843.html">documentation</a> for this function.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Name_of_School, <span class="keyword">REPLACE</span>(Average_Student_Attendance, <span class="string">&#x27;%&#x27;</span>, <span class="string">&#x27;&#x27;</span>) </span><br><span class="line">     <span class="keyword">from</span> SCHOOLS </span><br><span class="line">     <span class="keyword">order</span> <span class="keyword">by</span> Average_Student_Attendance </span><br><span class="line">     <span class="keyword">fetch</span> <span class="keyword">first</span> <span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">only</span></span><br></pre></td></tr></table></figure><h3 id="CAST-AS，-DECIMAL"><a href="#CAST-AS，-DECIMAL" class="headerlink" title="CAST AS， DECIMAL"></a>CAST AS， DECIMAL</h3><p>The datatype of the “Average_Student_Attendance” column is varchar.<br>So you cannot use it as is in the where clause for a numeric comparison.<br>First use the CAST() function to cast it as a DECIMAL or DOUBLE<br>e.g. <code>CAST(&quot;Column_Name&quot; as DOUBLE)</code><br>or simply: <code>DECIMAL(&quot;Column_Name&quot;)</code></p><p>Don’t forget the ‘%’ age sign needs to be removed before casting</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">%sql SELECT Name_of_School, Average_Student_Attendance  \</span><br><span class="line">     <span class="keyword">from</span> SCHOOLS \</span><br><span class="line">     where CAST ( REPLACE(Average_Student_Attendance, <span class="string">&#x27;%&#x27;</span>, <span class="string">&#x27;&#x27;</span>) AS DOUBLE ) &lt; <span class="number">70</span> \</span><br><span class="line">     order by Average_Student_Attendance</span><br><span class="line"></span><br><span class="line"><span class="comment"># or,</span></span><br><span class="line"></span><br><span class="line">%sql SELECT Name_of_School, Average_Student_Attendance  \</span><br><span class="line">     <span class="keyword">from</span> SCHOOLS \</span><br><span class="line">     where DECIMAL ( REPLACE(Average_Student_Attendance, <span class="string">&#x27;%&#x27;</span>, <span class="string">&#x27;&#x27;</span>) ) &lt; <span class="number">70</span> \</span><br><span class="line">     order by Average_Student_Attendance</span><br></pre></td></tr></table></figure><h2 id="Multiple-Tables"><a href="#Multiple-Tables" class="headerlink" title="Multiple Tables"></a>Multiple Tables</h2><p>A full join / Cartesian join:</p><p>Evey row in the first table is joined with every row in the second table</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> [Table1, Table2, ...]</span><br></pre></td></tr></table></figure><h3 id="Implicit-Join"><a href="#Implicit-Join" class="headerlink" title="Implicit Join"></a>Implicit Join</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> E.EMP_ID, D.DEP_ID_DEP <span class="keyword">from</span></span><br><span class="line">	employees E, departments D</span><br><span class="line">	<span class="keyword">where</span> E.DEP_ID = D.DEPT_ID_DEP</span><br></pre></td></tr></table></figure><h3 id="Inner-Join"><a href="#Inner-Join" class="headerlink" title="Inner Join"></a>Inner Join</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> B.BORROWER_ID, B.LASTNAME, B.COUNTRY, L.BORROWER_ID, L.LOAN_DATE</span><br><span class="line"><span class="keyword">FROM</span> BORROWER B <span class="keyword">INNER</span> <span class="keyword">JOIN</span> LOAN L</span><br><span class="line">	<span class="keyword">ON</span> B.BORROWER_ID = L.BORROWER_ID</span><br><span class="line">	</span><br><span class="line"><span class="comment">-- Three tables</span></span><br><span class="line"><span class="keyword">SELECT</span> B.LASTNAME, L.COPY_ID, C.STATUS</span><br><span class="line"><span class="keyword">FROM</span> BORROWER B </span><br><span class="line">	<span class="keyword">INNER</span> <span class="keyword">JOIN</span> LOAN L <span class="keyword">ON</span> B.BORROWER_ID = L.BORROWER_ID</span><br><span class="line">	<span class="keyword">INNER</span> <span class="keyword">JOIN</span> COPY C <span class="keyword">ON</span> L.BORROWER_ID = C.COPY_ID</span><br></pre></td></tr></table></figure><h3 id="Outer-Join-LEFT-JOIN-RIGHT-JOIN-FULL-JOIN"><a href="#Outer-Join-LEFT-JOIN-RIGHT-JOIN-FULL-JOIN" class="headerlink" title="Outer Join: LEFT JOIN, RIGHT JOIN,  FULL JOIN"></a>Outer Join: LEFT JOIN, RIGHT JOIN, FULL JOIN</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> B.BORROWER_ID, B.LASTNAME, B.COUNTRY, L.BORROWER_ID, L.LOAN_DATE</span><br><span class="line"><span class="keyword">FROM</span> BORROWER B <span class="keyword">LEFT</span>/<span class="keyword">RIGHT</span>/<span class="keyword">FULL</span> <span class="keyword">JOIN</span> LOAN L</span><br><span class="line">	<span class="keyword">ON</span> B.BORROWER_ID = L.BORROWER_ID </span><br></pre></td></tr></table></figure><h2 id="IBM-Cloud"><a href="#IBM-Cloud" class="headerlink" title="IBM Cloud"></a>IBM Cloud</h2><h3 id="Open-Service"><a href="#Open-Service" class="headerlink" title="Open Service"></a>Open Service</h3><p>Click <code>Services</code></p><p><img src="https://img-blog.csdnimg.cn/20210127115401757.png#pic_center"></p><h3 id="Open-Console"><a href="#Open-Console" class="headerlink" title="Open Console"></a>Open Console</h3><p>Click on your Db2 service -&gt; <code>Mangae</code> -&gt; <code>Open Console</code></p><p><img src="https://img-blog.csdnimg.cn/20210127130714655.png#pic_center"></p><h3 id="RUN-SQL"><a href="#RUN-SQL" class="headerlink" title="RUN SQL"></a>RUN SQL</h3><p><code>Open Console</code> -&gt; <code>bar menu icon</code>(in the top left corner) -&gt; Click on <code>RUN SQL</code></p><p><img src="https://img-blog.csdnimg.cn/2021012711552162.png#pic_center"></p><p><img src="https://img-blog.csdnimg.cn/20210127115659689.png#pic_center"></p><h3 id="Look-at-tables"><a href="#Look-at-tables" class="headerlink" title="Look at tables"></a>Look at tables</h3><p><code>bar menu icon</code>-&gt; <code>EXPLORE</code> -&gt; <code>Tables</code> -&gt; <code>Schema</code> (corresponding to your Db2 userid)</p><p>P.S. The Schema is typically starts with 3 letters (not SQL) followed by 5 numbers.</p><h3 id="Load-Data"><a href="#Load-Data" class="headerlink" title="Load Data"></a>Load Data</h3><p><code>bar menu icon</code>-&gt; LOAD -&gt; <code>Load Data</code> -&gt; Select File -&gt; Select schema -&gt; Select Table / Click <code>New Table</code></p><p><strong>NOTE: if you only see 2-3 schemas and not your Db2 schema then scroll down in that list till you see the desired one in which you previously created the tables.</strong></p><p><strong>Pay attention to the first row and related formats.</strong></p><p><img src="https://img-blog.csdnimg.cn/20210127120855733.png#pic_center"></p><p><strong>If there is an issue, it is usually identified with an Warning icon (red triangle with an exclamation mark) next to the datatype of the column</strong></p><p><img src="https://img-blog.csdnimg.cn/20210127132159783.png#pic_center"></p><p>First check if there is a pre-defined format in the drop down list that matches the format the date/time/timestamp is in the source dataset. <strong>If not, type the correct format</strong>. Upon doing so, the Mismatch Warning (and exclamation sign) should disappear. In this example below we changed/overwrote the default Timestamp format of <strong>YYYY-MM-DD HH:MM:SS</strong> to <strong>MM/DD/YYYY HH:MM:SS TT</strong> to match the value of <strong>08/28/2004 05:50:56 PM</strong> in the dataset.</p><p><img src="https://img-blog.csdnimg.cn/2021012713271477.png#pic_center"></p><h4 id="Date-Time-Timestamp-format"><a href="#Date-Time-Timestamp-format" class="headerlink" title="Date / Time / Timestamp format"></a>Date / Time / Timestamp format</h4><p><strong>Elements</strong></p><table><thead><tr><th>YYYY</th><th>Year (four digits ranging from 0000 - 9999)</th></tr></thead><tbody><tr><td>M</td><td>Month (one or two digits ranging from 1 - 12)</td></tr><tr><td>MM</td><td>Month (two digits ranging from 01 - 12; mutually exclusive with M and MMM)</td></tr><tr><td>MMM</td><td>Month (first three letters of English month name; case of letters does not matter; mutually exclusive with M and MM)</td></tr><tr><td>D</td><td>Day (one or two digits ranging from 1 - 31)</td></tr><tr><td>DD</td><td>Day (two digits ranging from 01 - 31; mutually exclusive with D)</td></tr><tr><td>DDD</td><td>Day of the year (three digits ranging from 001 - 366; mutually exclusive with other day or month elements)</td></tr><tr><td>H</td><td>Hour (one or two digits ranging from 0 - 12 for a 12 hour system, and 0 – 24 for a 24 hour system)</td></tr><tr><td>HH</td><td>Hour (two digits ranging from 00 - 12 for a 12 hour system, and 00 - 24 for a 24 hour system; mutually exclusive with H)</td></tr><tr><td>M</td><td>Minute (one or two digits ranging from 0 - 59)</td></tr><tr><td>MM</td><td>Minute (two digits ranging from 00 - 59; mutually exclusive with M, minute)</td></tr><tr><td>S</td><td>Second (one or two digits ranging from 0 - 59)</td></tr><tr><td>SS</td><td>Second (two digits ranging from 00 - 59; mutually exclusive with S)</td></tr><tr><td>SSSSS</td><td>Second of the day after midnight (5 digits ranging from 00000 – 86400; mutually exclusive with other time elements)</td></tr><tr><td>U</td><td>(1 to 12 times) Fractional seconds (number of occurrences of U represent the number of digits with each digit ranging from 0 to 9)</td></tr><tr><td>TT</td><td>Meridian indicator (AM or PM)</td></tr></tbody></table><p>The valid values for the MMM element include: ‘jan’, ‘feb’, ‘mar’, ‘apr’, ‘may’, ‘jun’, ‘jul’, ‘aug’, ‘sep’, ‘oct’, ‘nov’ and ‘dec’. These values are case insensitive.</p><p><strong>Separators</strong><br>The separator between timestamp elements can be any character you want except:</p><pre><code>It can’t be a character in the ranges a-z, A-Z, or 0-9.
It can’t be the same as the separator between columns.
It can’t be the same character you use to indicate strings.</code></pre><p>If the date in your timestamp format uses DD and MM elements, a separator character is optional. If your date format uses D or M elements, a separator character is required.</p><p>If the time in your timestamp format uses HH, MM, and SS elements, a separator character is optional. If your time format uses H, M, or S elements, a separator character is required.</p><p><strong>Examples</strong><br>If the timestamp in your data looks like Jan 09 2017 8.49.15.008, your custom timestamp format would be MMM DD YYYY H.MM.SS.UUU. However, if the timestamp in your data looks like 1.9.2017 08.49.15, then your custom timestamp format would be M.D.YYYY HH.MM.SS.</p><p>A default value of 1 is assigned for unspecified YYYY, M, MM, D, DD, or DDD elements. A default value of ‘Jan’ is assigned to an unspecified MMM element. A default value of 0 is assigned for all other unspecified elements. The following is another example of a timestamp format: YYYY/MM/DD HH:MM:SS.UUUUUU</p><h3 id="Create-credentials"><a href="#Create-credentials" class="headerlink" title="Create credentials"></a>Create credentials</h3><p>Click on your Db2 service -&gt; <code>Service crendentials</code> -&gt; <code>New credential</code></p><p><img src="https://img-blog.csdnimg.cn/20210127131157940.png#pic_center"></p><h2 id="SQL-API"><a href="#SQL-API" class="headerlink" title="SQL API"></a>SQL API</h2><h3 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h3><p><img src="https://img-blog.csdnimg.cn/20210126221028307.png#pic_center"></p><p><strong>APIs used by popular SQL-based DBMS systems</strong></p><table><thead><tr><th>Application or Database</th><th>SQL API</th></tr></thead><tbody><tr><td>MySQL</td><td>MySQL C API</td></tr><tr><td>PostgreSQL</td><td>psycopg2</td></tr><tr><td>IBM DB2</td><td>ibm_db</td></tr><tr><td>SQL Server</td><td>dblib API</td></tr><tr><td>Database access for Microsoft Windows OS</td><td>ODBC</td></tr><tr><td>Oracle</td><td>OCI</td></tr><tr><td>Java</td><td>JDBC</td></tr></tbody></table><p><strong>DB-API</strong></p><ul><li>Python’s standard API for accessing relational databases</li><li>Allows a single program that to work with multiple kinds of relational databases</li><li>Learn DB-API functions once, use them with any database</li></ul><p><strong>Concepts</strong></p><p>​ <strong>Connection Objects</strong></p><ul><li>Database connections</li><li>Manage transactions</li></ul><p>​ <strong>Cursor Objects</strong></p><pre><code>- Database Queries
- Scroll through result set
- Retrieve results</code></pre><p><strong>Cursor</strong></p><p><img src="https://img-blog.csdnimg.cn/20210126223017206.png#pic_center"></p><p>Cursor methods:</p><ul><li>.callproc()</li><li>.execture()</li><li>.executemany()</li><li>.fetchone()</li><li>.fetchmany()</li><li>.fetchall()</li><li>.nextset()</li><li>.arraysize()</li><li>.close()</li></ul><h3 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> dbmodule <span class="keyword">import</span> connect</span><br><span class="line"><span class="comment"># Create connection object</span></span><br><span class="line">Connection = connect(<span class="string">&#x27;databasename&#x27;</span>,<span class="string">&#x27;username&#x27;</span>,<span class="string">&#x27;pswd&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create a cursor object</span></span><br><span class="line">Cursor = connection.cursor()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Run Queries</span></span><br><span class="line">Cursor.execute(<span class="string">&#x27;select * from mytable&#x27;</span>)</span><br><span class="line">Results = cursor.fetchall()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Free resources</span></span><br><span class="line">Cursor.close()</span><br><span class="line">Connection.close()</span><br></pre></td></tr></table></figure><h4 id="Import-the-ibm-db-Python-library"><a href="#Import-the-ibm-db-Python-library" class="headerlink" title="Import the ibm_db Python library"></a>Import the <code>ibm_db</code> Python library</h4><p>The <code>ibm_db</code> <a target="_blank" rel="noopener" href="https://pypi.python.org/pypi/ibm_db?cm_mmc=Email_Newsletter-_-Developer_Ed+Tech-_-WW_WW-_-SkillsNetwork-Courses-IBMDeveloperSkillsNetwork-DB0201EN-SkillsNetwork-20127838&cm_mmca1=000026UJ&cm_mmca2=10006555&cm_mmca3=M12345678&cvosrc=email.Newsletter.M12345678&cvo_campaign=000026UJ&cm_mmc=Email_Newsletter-_-Developer_Ed+Tech-_-WW_WW-_-SkillsNetwork-Courses-IBMDeveloperSkillsNetwork-DB0201EN-SkillsNetwork-20127838&cm_mmca1=000026UJ&cm_mmca2=10006555&cm_mmca3=M12345678&cvosrc=email.Newsletter.M12345678&cvo_campaign=000026UJ&cm_mmc=Email_Newsletter-_-Developer_Ed+Tech-_-WW_WW-_-SkillsNetwork-Courses-IBMDeveloperSkillsNetwork-DB0201EN-SkillsNetwork-20127838&cm_mmca1=000026UJ&cm_mmca2=10006555&cm_mmca3=M12345678&cvosrc=email.Newsletter.M12345678&cvo_campaign=000026UJ&cm_mmc=Email_Newsletter-_-Developer_Ed+Tech-_-WW_WW-_-SkillsNetwork-Courses-IBMDeveloperSkillsNetwork-DB0201EN-SkillsNetwork-20127838&cm_mmca1=000026UJ&cm_mmca2=10006555&cm_mmca3=M12345678&cvosrc=email.Newsletter.M12345678&cvo_campaign=000026UJ">API </a>provides a variety of useful Python functions for accessing and manipulating data in an IBM® data server database, including functions for connecting to a database, preparing and issuing SQL statements, fetching rows from result sets, calling stored procedures, committing and rolling back transactions, handling errors, and retrieving metadata.</p><p>We first import the ibm_db library into our Python Application</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ibm_db</span><br></pre></td></tr></table></figure><h4 id="Identify-the-database-connection-credentials"><a href="#Identify-the-database-connection-credentials" class="headerlink" title="Identify the database connection credentials"></a>Identify the database connection credentials</h4><p>Connecting to dashDB or DB2 database requires the following information:</p><ul><li>Driver Name</li><li>Database name</li><li>Host DNS name or IP address</li><li>Host port</li><li>Connection protocol</li><li>User ID (or username)</li><li>User Password</li></ul><p><strong>Notice:</strong> To obtain credentials please refer to the instructions given in the past</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Replace the placeholder values with your actual Db2 hostname, username, and password:</span></span><br><span class="line">dsn_hostname = <span class="string">&quot;dashdb-txn-sbox-yp-dal09-04.services.dal.bluemix.net&quot;</span> <span class="comment"># e.g.: &quot;dashdb-txn-sbox-yp-dal09-04.services.dal.bluemix.net&quot;</span></span><br><span class="line">dsn_uid = <span class="string">&quot;wls55462&quot;</span>        <span class="comment"># e.g. &quot;abc12345&quot;</span></span><br><span class="line">dsn_pwd = <span class="string">&quot;2ls9wcg2s5l7n@08&quot;</span>      <span class="comment"># e.g. &quot;7dBZ3wWt9XN6$o0J&quot;</span></span><br><span class="line"></span><br><span class="line">dsn_driver = <span class="string">&quot;&#123;IBM DB2 ODBC DRIVER&#125;&quot;</span></span><br><span class="line">dsn_database = <span class="string">&quot;BLUDB&quot;</span>            <span class="comment"># e.g. &quot;BLUDB&quot;</span></span><br><span class="line">dsn_port = <span class="string">&quot;50000&quot;</span>                <span class="comment"># e.g. &quot;50000&quot; </span></span><br><span class="line">dsn_protocol = <span class="string">&quot;TCPIP&quot;</span>            <span class="comment"># i.e. &quot;TCPIP&quot;</span></span><br></pre></td></tr></table></figure><h4 id="Create-the-DB2-database-connection"><a href="#Create-the-DB2-database-connection" class="headerlink" title="Create the DB2 database connection"></a>Create the DB2 database connection</h4><p>Ibm_db API uses the IBM Data Server Driver for ODBC and CLI APIs to connect to IBM DB2 and Informix.</p><p>Lets build the dsn connection string using the credentials you entered above</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#DO NOT MODIFY THIS CELL. Just RUN it with Shift + Enter</span></span><br><span class="line"><span class="comment">#Create the dsn connection string</span></span><br><span class="line">dsn = (</span><br><span class="line">    <span class="string">&quot;DRIVER=&#123;0&#125;;&quot;</span></span><br><span class="line">    <span class="string">&quot;DATABASE=&#123;1&#125;;&quot;</span></span><br><span class="line">    <span class="string">&quot;HOSTNAME=&#123;2&#125;;&quot;</span></span><br><span class="line">    <span class="string">&quot;PORT=&#123;3&#125;;&quot;</span></span><br><span class="line">    <span class="string">&quot;PROTOCOL=&#123;4&#125;;&quot;</span></span><br><span class="line">    <span class="string">&quot;UID=&#123;5&#125;;&quot;</span></span><br><span class="line">    <span class="string">&quot;PWD=&#123;6&#125;;&quot;</span>).<span class="built_in">format</span>(dsn_driver, dsn_database, dsn_hostname, dsn_port, dsn_protocol, dsn_uid, dsn_pwd)</span><br><span class="line"></span><br><span class="line"><span class="comment">#print the connection string to check correct values are specified</span></span><br><span class="line">print(dsn)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DRIVER&#x3D;&#123;IBM DB2 ODBC DRIVER&#125;;DATABASE&#x3D;BLUDB;HOSTNAME&#x3D;dashdb-txn-sbox-yp-dal09-04.services.dal.bluemix.net;PORT&#x3D;50000;PROTOCOL&#x3D;TCPIP;UID&#x3D;wls55462;PWD&#x3D;2ls9wcg2s5l7n@08;</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#DO NOT MODIFY THIS CELL. Just RUN it with Shift + Enter</span></span><br><span class="line"><span class="comment">#Create database connection</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    conn = ibm_db.connect(dsn, <span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;Connected to database: &quot;</span>, dsn_database, <span class="string">&quot;as user: &quot;</span>, dsn_uid, <span class="string">&quot;on host: &quot;</span>, dsn_hostname)</span><br><span class="line"></span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;Unable to connect: &quot;</span>, ibm_db.conn_errormsg() )</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Connected to database:  BLUDB as user:  wls55462 on host:  dashdb-txn-sbox-yp-dal09-04.services.dal.bluemix.net</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Retrieve Metadata for the Database Server</span></span><br><span class="line">server = ibm_db.server_info(conn)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;DBMS_NAME: &quot;</span>, server.DBMS_NAME)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;DBMS_VER:  &quot;</span>, server.DBMS_VER)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;DB_NAME:   &quot;</span>, server.DB_NAME)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Retrieve Metadata for the Database Client / Driver</span></span><br><span class="line">client = ibm_db.client_info(conn)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;DRIVER_NAME:          &quot;</span>, client.DRIVER_NAME) </span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;DRIVER_VER:           &quot;</span>, client.DRIVER_VER)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;DATA_SOURCE_NAME:     &quot;</span>, client.DATA_SOURCE_NAME)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;DRIVER_ODBC_VER:      &quot;</span>, client.DRIVER_ODBC_VER)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;ODBC_VER:             &quot;</span>, client.ODBC_VER)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;ODBC_SQL_CONFORMANCE: &quot;</span>, client.ODBC_SQL_CONFORMANCE)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;APPL_CODEPAGE:        &quot;</span>, client.APPL_CODEPAGE)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;CONN_CODEPAGE:        &quot;</span>, client.CONN_CODEPAGE)</span><br></pre></td></tr></table></figure><h4 id="Close-the-Connection"><a href="#Close-the-Connection" class="headerlink" title="Close the Connection"></a>Close the Connection</h4><p>We free all resources by closing the connection. Remember that it is always important to close connections so that we can avoid unused connections taking up resources.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ibm_db.close(conn)</span><br></pre></td></tr></table></figure><h4 id="Create-a-table"><a href="#Create-a-table" class="headerlink" title="Create a table"></a>Create a table</h4><p>In this step we will create a table in the database with following details:</p><img src="https://ibm.box.com/shared/static/ztd2cn4xkdoj5erlk4hhng39kbp63s1h.jpg" align="center"><p><strong>Ibm_db.exec_immediate(Connection, Statement, Options)</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Lets first drop the table INSTRUCTOR in case it exists from a previous attempt</span></span><br><span class="line">dropQuery = <span class="string">&quot;drop table INSTRUCTOR&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Now execute the drop statment</span></span><br><span class="line">dropStmt = ibm_db.exec_immediate(conn, dropQuery)</span><br></pre></td></tr></table></figure><pre><code>---------------------------------------------------------------------------

Exception                                 Traceback (most recent call last)

&lt;ipython-input-5-83413676a2ca&gt; in &lt;module&gt;
      3 
      4 #Now execute the drop statment
----&gt; 5 dropStmt = ibm_db.exec_immediate(conn, dropQuery)


Exception: [IBM][CLI Driver][DB2/LINUXX8664] SQL0204N  &quot;WLS55462.INSTRUCTOR&quot; is an undefined name.  SQLSTATE=42704 SQLCODE=-204</code></pre><p><strong>Dont worry if you get this error:</strong></p><p>If you see an exception/error similar to the following, indicating that INSTRUCTOR is an undefined name, that’s okay. It just implies that the INSTRUCTOR table does not exist in the table - which would be the case if you had not created it previously.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Construct the Create Table DDL statement - replace the ... with rest of the statement</span></span><br><span class="line">createQuery = <span class="string">&quot;create table INSTRUCTOR(ID INTEGER PRIMARY KEY NOT NULL, FNAME VARCHAR(20), LNAME VARCHAR(20), CITY VARCHAR(20), CCODE CHAR(2))&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Now fill in the name of the method and execute the statement</span></span><br><span class="line">createStmt = ibm_db.exec_immediate(conn, createQuery)</span><br></pre></td></tr></table></figure><h4 id="Insert-data-into-the-table"><a href="#Insert-data-into-the-table" class="headerlink" title="Insert data into the table"></a>Insert data into the table</h4><p>In this step we will insert some rows of data into the table.</p><p>The INSTRUCTOR table we created in the previous step contains 3 rows of data:</p><img src="https://ibm.box.com/shared/static/j5yjassxefrjknivfpekj7698dqe4d8i.jpg" align="center"><p>We will start by inserting just the first row of data, i.e. for instructor Rav Ahuja</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Construct the query - replace ... with the insert statement</span></span><br><span class="line">insertQuery = <span class="string">&quot;insert into INSTRUCTOR values (1, &#x27;Rav&#x27;, &#x27;Ahuja&#x27;, &#x27;TORONTO&#x27;, &#x27;CA&#x27;)&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#execute the insert statement</span></span><br><span class="line">insertStmt = ibm_db.exec_immediate(conn, insertQuery)</span><br></pre></td></tr></table></figure><p>Now use a single query to insert the remaining two rows of data</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#replace ... with the insert statement that inerts the remaining two rows of data</span></span><br><span class="line">insertQuery2 = <span class="string">&quot;insert into INSTRUCTOR values (2, &#x27;Raul&#x27;, &#x27;Chong&#x27;, &#x27;Markham&#x27;, &#x27;CA&#x27;), (3, &#x27;Hima&#x27;, &#x27;Vasudevan&#x27;, &#x27;Chicago&#x27;, &#x27;US&#x27;)&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#execute the statement</span></span><br><span class="line">insertStmt2 = ibm_db.exec_immediate(conn, insertQuery2)</span><br></pre></td></tr></table></figure><h4 id="Query-data-in-the-table"><a href="#Query-data-in-the-table" class="headerlink" title="Query data in the table"></a>Query data in the table</h4><p>In this step we will retrieve data we inserted into the INSTRUCTOR table.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Construct the query that retrieves all rows from the INSTRUCTOR table</span></span><br><span class="line">selectQuery = <span class="string">&quot;select * from INSTRUCTOR&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Execute the statement</span></span><br><span class="line">selectStmt = ibm_db.exec_immediate(conn, selectQuery)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Fetch the Dictionary (for the first row only) - replace ... with your code</span></span><br><span class="line">ibm_db.fetch_both(selectStmt)</span><br></pre></td></tr></table></figure><pre><code>&#123;&#39;ID&#39;: 1,
 0: 1,
 &#39;FNAME&#39;: &#39;Rav&#39;,
 1: &#39;Rav&#39;,
 &#39;LNAME&#39;: &#39;Ahuja&#39;,
 2: &#39;Ahuja&#39;,
 &#39;CITY&#39;: &#39;TORONTO&#39;,
 3: &#39;TORONTO&#39;,
 &#39;CCODE&#39;: &#39;CA&#39;,
 4: &#39;CA&#39;&#125;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Fetch the rest of the rows and print the ID and FNAME for those rows</span></span><br><span class="line"><span class="keyword">while</span> ibm_db.fetch_row(selectStmt) != <span class="literal">False</span>:</span><br><span class="line">   <span class="built_in">print</span> (<span class="string">&quot; ID:&quot;</span>,  ibm_db.result(selectStmt, <span class="number">0</span>), <span class="string">&quot; FNAME:&quot;</span>,  ibm_db.result(selectStmt, <span class="string">&quot;FNAME&quot;</span>))</span><br></pre></td></tr></table></figure><pre><code> ID: 2  FNAME: Raul
 ID: 3  FNAME: Hima</code></pre><p>Bonus: now write and execute an update statement that changes the Rav’s CITY to MOOSETOWN</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Enter your code below</span></span><br><span class="line">updateQuery = <span class="string">&quot;update INSTRUCTOR set CITY=&#x27;MOOSETOWN&#x27; where FNAME=&#x27;Rav&#x27;&quot;</span></span><br><span class="line">updateStmt = ibm_db.exec_immediate(conn, updateQuery)</span><br></pre></td></tr></table></figure><p>Pay attention some cases. Look <code>Other tips</code> -&gt; <code>Use quotes in Jupyter notebooks</code> for more details</p><h4 id="Retrieve-data-into-Pandas"><a href="#Retrieve-data-into-Pandas" class="headerlink" title="Retrieve data into Pandas"></a>Retrieve data into Pandas</h4><p>In this step we will retrieve the contents of the INSTRUCTOR table into a Pandas dataframe</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas</span><br><span class="line"><span class="keyword">import</span> ibm_db_dbi</span><br><span class="line"></span><br><span class="line"><span class="comment">#connection for pandas</span></span><br><span class="line">pconn = ibm_db_dbi.Connection(conn)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#query statement to retrieve all rows in INSTRUCTOR table</span></span><br><span class="line">selectQuery = <span class="string">&quot;select * from INSTRUCTOR&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#retrieve the query results into a pandas dataframe</span></span><br><span class="line">pdf = pandas.read_sql(selectQuery, pconn)</span><br><span class="line"></span><br><span class="line"><span class="comment">#print just the LNAME for first row in the pandas data frame</span></span><br><span class="line">pdf.LNAME[<span class="number">0</span>]</span><br></pre></td></tr></table></figure><pre><code>&#39;Ahuja&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#print the entire data frame</span></span><br><span class="line">pdf</span><br></pre></td></tr></table></figure><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>ID</th><th>FNAME</th><th>LNAME</th><th>CITY</th><th>CCODE</th></tr></thead><tbody><tr><th>0</th><td>1</td><td>Rav</td><td>Ahuja</td><td>MOOSETOWN</td><td>CA</td></tr><tr><th>1</th><td>2</td><td>Raul</td><td>Chong</td><td>Markham</td><td>CA</td></tr><tr><th>2</th><td>3</td><td>Hima</td><td>Vasudevan</td><td>Chicago</td><td>US</td></tr></tbody></table>Once the data is in a Pandas dataframe, you can do the typical pandas operations on it.<p>For example you can use the shape method to see how many rows and columns are in the dataframe</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pdf.shape</span><br></pre></td></tr></table></figure><pre><code>(3, 5)</code></pre><h3 id="SQL-Magic"><a href="#SQL-Magic" class="headerlink" title="SQL Magic"></a>SQL Magic</h3><h4 id="Introduction-1"><a href="#Introduction-1" class="headerlink" title="Introduction"></a>Introduction</h4><p>Jupyter notebooks have a concept of <strong>Magic</strong> commands that can simplify working with Python, and are particularly useful for data analysis. Your notebooks can have two types of magic commands:</p><ul><li><strong>Cell magics:</strong> start with a double <code>%%</code> sign and apply to the entire cell</li><li><strong>Line magics:</strong> start with a single <code>%</code> (percent) sign and apply to a particular line in a cell</li></ul><p>Their usage is of the format:<br><code>%magicname arguments</code><br>So far in the course you learned to accessed data from a database using the Python DB-API (and specifically ibm_db). With this API execution of queries and fetching their results involves multiple steps. You can use the <strong>SQL Magic</strong> commands to execute queries more easily.<br>For example if you want to execute the a query to select some data from a table and fetch its results, you can simply enter a command like the following in your Jupyter notebook cell:<br><code>%sql select * from tablename</code><br>Although SQL magic simplifies working with databases, it has some limitations. For example, unlike DB-API, there are no explicit methods to close a connection and free up resources.</p><p>Below, we’ll use the load___ext magic to load the ipython-sql extension.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%load_ext sql</span><br></pre></td></tr></table></figure><p>Now we have access to SQL magic. With our first SQL magic command, we’ll connect to a Db2 database. However, in order to do that, you’ll first need to retrieve or create your credentials to access your Db2 database.</p><p><a><img src="https://ibm.box.com/shared/static/uy78gy1uq3uj6fkvd4muzy5zcr62tb72.png" width="1000," align="center"></a></p><h5 align="center">This image shows the location of your connection string if you're using Db2 on IBM Cloud. If you're using another host the format is: username:password@hostname:port/database-name</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Enter your Db2 credentials in the connection string below</span></span><br><span class="line"><span class="comment"># Recall you created Service Credentials in Part III of the first lab of the course in Week 1</span></span><br><span class="line"><span class="comment"># i.e. from the uri field in the Service Credentials copy everything after db2:// (but remove the double quote at the end)</span></span><br><span class="line"><span class="comment"># for example, if your credentials are as in the screenshot above, you would write:</span></span><br><span class="line"><span class="comment"># %sql ibm_db_sa://my-username:my-password@dashdb-txn-sbox-yp-dal09-03.services.dal.bluemix.net:50000/BLUDB</span></span><br><span class="line"><span class="comment"># Note the ibm_db_sa:// prefix instead of db2://</span></span><br><span class="line"><span class="comment"># This is because JupyterLab&#x27;s ipythondb2://wls55462:2ls9wcg2s5l7n%4008@dashdb-txn-sbox-yp-dal09-04.services.dal.bluemix.net:50000/BLUDB-sql extension uses sqlalchemy (a python SQL toolkit)</span></span><br><span class="line"><span class="comment"># which in turn uses IBM&#x27;s sqlalchemy dialect: ibm_db_sa</span></span><br><span class="line">%sql ibm_db_sa://wls55462:<span class="number">2l</span>s9wcg2s5l7n%<span class="number">4008</span>@dashdb-txn-sbox-yp-dal09<span class="number">-04.</span>services.dal.bluemix.net:<span class="number">50000</span>/BLUDB</span><br></pre></td></tr></table></figure><pre><code>&#39;Connected: wls55462@BLUDB&#39;</code></pre><p>For convenience, we can use <code>%%sql</code> (two %’s instead of one) at the top of a cell to indicate we want the entire cell to be treated as SQL. Let’s use this to create a table and fill it with some test data for experimenting.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">%%sql</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> INTERNATIONAL_STUDENT_TEST_SCORES (</span><br><span class="line">	country <span class="built_in">VARCHAR</span>(<span class="number">50</span>),</span><br><span class="line">	first_name <span class="built_in">VARCHAR</span>(<span class="number">50</span>),</span><br><span class="line">	last_name <span class="built_in">VARCHAR</span>(<span class="number">50</span>),</span><br><span class="line">	test_score <span class="built_in">INT</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> INTERNATIONAL_STUDENT_TEST_SCORES (country, first_name, last_name, test_score)</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">(<span class="string">&#x27;United States&#x27;</span>, <span class="string">&#x27;Marshall&#x27;</span>, <span class="string">&#x27;Bernadot&#x27;</span>, <span class="number">54</span>),</span><br><span class="line">(...),</span><br><span class="line">...</span><br></pre></td></tr></table></figure><pre><code> * ibm_db_sa://wls55462:***@dashdb-txn-sbox-yp-dal09-04.services.dal.bluemix.net:50000/BLUDB
Done.
99 rows affected.</code></pre><h4 id="Splitting-into-multiple-lines-in-Jupyter"><a href="#Splitting-into-multiple-lines-in-Jupyter" class="headerlink" title="Splitting into multiple lines in Jupyter"></a>Splitting into multiple lines in Jupyter</h4><p>Use backslash<code>\</code> to split the query into multiplr lines:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">%sql select <span class="string">&quot;Id&quot;</span>, <span class="string">&quot;Name_of_Dog&quot;</span>, \</span><br><span class="line">	<span class="keyword">from</span> dogs \</span><br><span class="line">    where <span class="string">&quot;Name_of_Dog&quot;</span>=<span class="string">&#x27;Huggy&#x27;</span></span><br></pre></td></tr></table></figure><p>Or use <code>%%sql</code> in the first row of the cell in the notebook:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">%%sql</span><br><span class="line">select <span class="string">&quot;Id&quot;</span>, <span class="string">&quot;Name_of_Dog&quot;</span>, </span><br><span class="line">	<span class="keyword">from</span> dogs</span><br><span class="line">    where <span class="string">&quot;Name_of_Dog&quot;</span>=<span class="string">&#x27;Huggy&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="Using-Python-Variables-in-your-SQL-Statements"><a href="#Using-Python-Variables-in-your-SQL-Statements" class="headerlink" title="Using Python Variables in your SQL Statements"></a>Using Python Variables in your SQL Statements</h4><p>You can use python variables in your SQL statements by adding a “:” prefix to your python variable names.</p><p>For example, if I have a python variable <code>country</code> with a value of <code>&quot;Canada&quot;</code>, I can use this variable in a SQL query to find all the rows of students from Canada.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">country = <span class="string">&quot;Canada&quot;</span></span><br><span class="line">%sql select * <span class="keyword">from</span> INTERNATIONAL_STUDENT_TEST_SCORES where country = :country</span><br></pre></td></tr></table></figure><pre><code> * ibm_db_sa://wls55462:***@dashdb-txn-sbox-yp-dal09-04.services.dal.bluemix.net:50000/BLUDB
Done.</code></pre><table><thead><tr><th>country</th><th>first_name</th><th>last_name</th><th>test_score</th></tr></thead><tbody><tr><td>Canada</td><td>Cristionna</td><td>Wadmore</td><td>46</td></tr><tr><td>Canada</td><td>Wilhelm</td><td>Deeprose</td><td>54</td></tr><tr><td>Canada</td><td>Carma</td><td>Schule</td><td>49</td></tr></tbody></table><h4 id="Assigning-the-Results-of-Queries-to-Python-Variables"><a href="#Assigning-the-Results-of-Queries-to-Python-Variables" class="headerlink" title="Assigning the Results of Queries to Python Variables"></a>Assigning the Results of Queries to Python Variables</h4><p>You can use the normal python assignment syntax to assign the results of your queries to python variables.</p><p>For example, I have a SQL query to retrieve the distribution of test scores (i.e. how many students got each score). I can assign the result of this query to the variable <code>test_score_distribution</code> using the <code>=</code> operator.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test_score_distribution = %sql SELECT test_score <span class="keyword">as</span> <span class="string">&quot;Test Score&quot;</span>, count(*) <span class="keyword">as</span> <span class="string">&quot;Frequency&quot;</span> <span class="keyword">from</span> INTERNATIONAL_STUDENT_TEST_SCORES GROUP BY test_score;</span><br><span class="line">test_score_distribution</span><br></pre></td></tr></table></figure><pre><code> * ibm_db_sa://wls55462:***@dashdb-txn-sbox-yp-dal09-04.services.dal.bluemix.net:50000/BLUDB
Done.</code></pre><table><thead><tr><th>Test Score</th><th>Frequency</th></tr></thead><tbody><tr><td>38</td><td>2</td></tr><tr><td>40</td><td>1</td></tr><tr><td>...</td><td>...</td></tr></tbody></table><h4 id="Converting-Query-Results-to-DataFrames"><a href="#Converting-Query-Results-to-DataFrames" class="headerlink" title="Converting Query Results to DataFrames"></a>Converting Query Results to DataFrames</h4><p>You can easily convert a SQL query result to a pandas dataframe using the <code>DataFrame()</code> method. Dataframe objects are much more versatile than SQL query result objects. For example, we can easily graph our test score distribution after converting to a dataframe.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">dataframe = test_score_distribution.DataFrame()</span><br><span class="line"></span><br><span class="line">%matplotlib inline</span><br><span class="line"><span class="comment"># uncomment the following line if you get an module error saying seaborn not found</span></span><br><span class="line"><span class="comment"># !pip install seaborn</span></span><br><span class="line"><span class="keyword">import</span> seaborn</span><br><span class="line"></span><br><span class="line">plot = seaborn.barplot(x=<span class="string">&#x27;Test Score&#x27;</span>,y=<span class="string">&#x27;Frequency&#x27;</span>, data=dataframe)</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">plot = seaborn.barplot(x=<span class="string">&#x27;Test Score&#x27;</span>,y=<span class="string">&#x27;Frequency&#x27;</span>, data=test_score_distribution.DataFrame())</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210127141546152.png#pic_center"></p><p>Now you know how to work with Db2 from within JupyterLab notebooks using SQL “magic”!</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">%%sql </span><br><span class="line"></span><br><span class="line">-- Feel free to experiment <span class="keyword">with</span> the data <span class="built_in">set</span> provided <span class="keyword">in</span> this notebook <span class="keyword">for</span> practice:</span><br><span class="line">SELECT country, first_name, last_name, test_score FROM INTERNATIONAL_STUDENT_TEST_SCORES;  </span><br></pre></td></tr></table></figure><h4 id="Store-the-dataset-in-a-Table"><a href="#Store-the-dataset-in-a-Table" class="headerlink" title="Store the dataset in a Table"></a>Store the dataset in a Table</h4><p>In many cases the dataset to be analyzed is available as a .CSV (comma separated values) file, perhaps on the internet. To analyze the data using SQL, it first needs to be stored in the database.<br>We will first read the dataset source .CSV from the internet into pandas dataframe<br>Then we need to create a table in our Db2 database to store the dataset. The <code>PERSIST</code> command in SQL “magic” simplifies the process of table creation and writing the data from a <code>pandas</code> dataframe into the table</p><p><strong>Connect to the database</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">%load_ext sql</span><br><span class="line"></span><br><span class="line"><span class="comment"># Remember the connection string is of the format:</span></span><br><span class="line"><span class="comment"># %sql ibm_db_sa://my-username:my-password@my-hostname:my-port/my-db-name</span></span><br><span class="line"><span class="comment"># Enter the connection string for your Db2 on Cloud database instance below</span></span><br><span class="line"><span class="comment"># i.e. copy after db2:// from the URI string in Service Credentials of your Db2 instance. Remove the double quotes at the end.</span></span><br><span class="line">%sql ibm_db_sa://wls55462:<span class="number">2l</span>s9wcg2s5l7n%<span class="number">4008</span>@dashdb-txn-sbox-yp-dal09<span class="number">-04.</span>services.dal.bluemix.net:<span class="number">50000</span>/BLUDB</span><br></pre></td></tr></table></figure><p><strong>Store the dataset in a Table</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas</span><br><span class="line">chicago_socioeconomic_data = pandas.read_csv(<span class="string">&#x27;https://data.cityofchicago.org/resource/jcxq-k9xf.csv&#x27;</span>)</span><br><span class="line">%sql PERSIST chicago_socioeconomic_data</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> * ibm_db_sa:&#x2F;&#x2F;wls55462:***@dashdb-txn-sbox-yp-dal09-04.services.dal.bluemix.net:50000&#x2F;BLUDB</span><br><span class="line"></span><br><span class="line">&#39;Persisted chicago_socioeconomic_data&#39;</span><br></pre></td></tr></table></figure><p>You can verify that the table creation was successful by making a basic query like:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%sql SELECT * FROM chicago_socioeconomic_data limit <span class="number">5</span>;</span><br></pre></td></tr></table></figure><pre><code> * ibm_db_sa://wls55462:***@dashdb-txn-sbox-yp-dal09-04.services.dal.bluemix.net:50000/BLUDB
Done.</code></pre><table><thead><tr><th>index</th><th>ca</th><th>community_area_name</th><th>percent_of_housing_crowded</th><th>percent_households_below_poverty</th><th>percent_aged_16_unemployed</th><th>percent_aged_25_without_high_school_diploma</th><th>percent_aged_under_18_or_over_64</th><th>per_capita_income_</th><th>hardship_index</th></tr></thead><tbody><tr><td>0</td><td>1.0</td><td>Rogers Park</td><td>7.7</td><td>23.6</td><td>8.7</td><td>18.2</td><td>27.5</td><td>23939</td><td>39.0</td></tr><tr><td>1</td><td>2.0</td><td>West Ridge</td><td>7.8</td><td>17.2</td><td>8.8</td><td>20.8</td><td>38.5</td><td>23040</td><td>46.0</td></tr><tr><td>2</td><td>3.0</td><td>Uptown</td><td>3.8</td><td>24.0</td><td>8.9</td><td>11.8</td><td>22.2</td><td>35787</td><td>20.0</td></tr><tr><td>3</td><td>4.0</td><td>Lincoln Square</td><td>3.4</td><td>10.9</td><td>8.2</td><td>13.4</td><td>25.5</td><td>37524</td><td>17.0</td></tr><tr><td>4</td><td>5.0</td><td>North Center</td><td>0.3</td><td>7.5</td><td>5.2</td><td>4.5</td><td>26.2</td><td>57123</td><td>6.0</td></tr></tbody></table><a href="#Get-Table-and-Column-Details" class="headerlink" title="Get Table and Column Details"></a>Get Table and Column Details<p>Query system catalog to get a list of tables &amp; their properties:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">%load_ext sql</span><br><span class="line"></span><br><span class="line"><span class="comment"># Enter the connection string for your Db2 on Cloud database instance below</span></span><br><span class="line"><span class="comment"># %sql ibm_db_sa://my-username:my-password@my-hostname:my-port/my-db-name</span></span><br><span class="line">%sql ibm_db_sa://wls55462:<span class="number">2l</span>s9wcg2s5l7n%<span class="number">4008</span>@dashdb-txn-sbox-yp-dal09<span class="number">-04.</span>services.dal.bluemix.net:<span class="number">50000</span>/BLUDB</span><br></pre></td></tr></table></figure><p>You can verify that the table creation was successful by retrieving the list of all tables in your schema and checking whether the SCHOOLS table was created</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%sql select * <span class="keyword">from</span> syscat.tables LIMIT <span class="number">3</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>tabschema</th><th>tabname</th><th>owner</th><th>ownertype</th><th>TYPE</th><th>status</th><th>base_tabschema</th><th>base_tabname</th><th>rowtypeschema</th><th>rowtypename</th><th>create_time</th><th>alter_time</th><th>invalidate_time</th><th>stats_time</th><th>colcount</th><th>tableid</th><th>tbspaceid</th><th>card</th><th>npages</th><th>mpages</th><th>fpages</th><th>npartitions</th><th>nfiles</th><th>tablesize</th><th>overflow</th><th>tbspace</th><th>index_tbspace</th><th>long_tbspace</th><th>parents</th><th>children</th><th>selfrefs</th><th>keycolumns</th><th>keyindexid</th><th>keyunique</th><th>checkcount</th><th>datacapture</th><th>const_checked</th><th>pmap_id</th><th>partition_mode</th><th>log_attribute</th><th>pctfree</th><th>append_mode</th><th>REFRESH</th><th>refresh_time</th><th>LOCKSIZE</th><th>VOLATILE</th><th>row_format</th><th>property</th><th>statistics_profile</th><th>compression</th><th>rowcompmode</th><th>access_mode</th><th>clustered</th><th>active_blocks</th><th>droprule</th><th>maxfreespacesearch</th><th>avgcompressedrowsize</th><th>avgrowcompressionratio</th><th>avgrowsize</th><th>pctrowscompressed</th><th>logindexbuild</th><th>codepage</th><th>collationschema</th><th>collationname</th><th>collationschema_orderby</th><th>collationname_orderby</th><th>encoding_scheme</th><th>pctpagessaved</th><th>last_regen_time</th><th>secpolicyid</th><th>protectiongranularity</th><th>auditpolicyid</th><th>auditpolicyname</th><th>auditexceptionenabled</th><th>definer</th><th>oncommit</th><th>logged</th><th>onrollback</th><th>lastused</th><th>control</th><th>temporaltype</th><th>tableorg</th><th>extended_row_size</th><th>pctextendedrows</th><th>remarks</th></tr></thead><tbody><tr><td>SYSIBM</td><td>SYSTABLES</td><td>SYSIBM</td><td>S</td><td>T</td><td>N</td><td>None</td><td>None</td><td>None</td><td>None</td><td>2018-03-13 03:17:18.009191</td><td>2018-03-13 03:17:18.009191</td><td>2018-03-13 03:30:12.705161</td><td>2021-01-26 20:35:22.785259</td><td>83</td><td>5</td><td>0</td><td>14489</td><td>554</td><td>0</td><td>786</td><td>-1</td><td>-1</td><td>-1</td><td>73</td><td>SYSCATSPACE</td><td>None</td><td>None</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>N</td><td>YYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY</td><td>0</td><td></td><td>0</td><td>-1</td><td>N</td><td></td><td>None</td><td>R</td><td></td><td>N</td><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td>None</td><td>N</td><td></td><td>F</td><td>None</td><td>0</td><td></td><td>999</td><td>0</td><td>0.0</td><td>512</td><td>0.0</td><td>None</td><td>1208</td><td>SYSIBM</td><td>IDENTITY</td><td>SYSIBM</td><td>IDENTITY</td><td></td><td>0</td><td>2018-03-13 03:17:18.009191</td><td>0</td><td></td><td>None</td><td>None</td><td>N</td><td>SYSIBM</td><td></td><td></td><td></td><td>2021-01-25</td><td>R</td><td>N</td><td>R</td><td>N</td><td>-1.0</td><td>None</td></tr><tr><td>SYSIBM</td><td>SYSCOLUMNS</td><td>SYSIBM</td><td>S</td><td>T</td><td>N</td><td>None</td><td>None</td><td>None</td><td>None</td><td>2018-03-13 03:17:18.009191</td><td>2018-03-13 03:17:18.009191</td><td>2018-03-13 03:30:02.043364</td><td>2021-01-26 12:25:23.950308</td><td>45</td><td>6</td><td>0</td><td>206681</td><td>3126</td><td>0</td><td>5862</td><td>-1</td><td>-1</td><td>-1</td><td>1373</td><td>SYSCATSPACE</td><td>None</td><td>None</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>N</td><td>YYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY</td><td>0</td><td></td><td>0</td><td>-1</td><td>N</td><td></td><td>None</td><td>R</td><td></td><td>N</td><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td>None</td><td>N</td><td></td><td>F</td><td>None</td><td>0</td><td></td><td>999</td><td>0</td><td>0.0</td><td>248</td><td>0.0</td><td>None</td><td>1208</td><td>SYSIBM</td><td>IDENTITY</td><td>SYSIBM</td><td>IDENTITY</td><td></td><td>0</td><td>2018-03-13 03:17:18.009191</td><td>0</td><td></td><td>None</td><td>None</td><td>N</td><td>SYSIBM</td><td></td><td></td><td></td><td>2021-01-26</td><td>R</td><td>N</td><td>R</td><td>N</td><td>-1.0</td><td>None</td></tr><tr><td>SYSIBM</td><td>SYSINDEXES</td><td>SYSIBM</td><td>S</td><td>T</td><td>N</td><td>None</td><td>None</td><td>None</td><td>None</td><td>2018-03-13 03:17:18.009191</td><td>2018-03-13 03:17:18.009191</td><td>2018-03-13 03:30:05.393131</td><td>2021-01-26 18:55:22.824781</td><td>71</td><td>7</td><td>0</td><td>9909</td><td>303</td><td>0</td><td>404</td><td>-1</td><td>-1</td><td>-1</td><td>32</td><td>SYSCATSPACE</td><td>None</td><td>None</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>N</td><td>YYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY</td><td>0</td><td></td><td>0</td><td>-1</td><td>N</td><td></td><td>None</td><td>R</td><td></td><td>N</td><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td>None</td><td>N</td><td></td><td>F</td><td>None</td><td>0</td><td></td><td>999</td><td>0</td><td>0.0</td><td>402</td><td>0.0</td><td>None</td><td>1208</td><td>SYSIBM</td><td>IDENTITY</td><td>SYSIBM</td><td>IDENTITY</td><td></td><td>0</td><td>2018-03-13 03:17:18.009191</td><td>0</td><td></td><td>None</td><td>None</td><td>N</td><td>SYSIBM</td><td></td><td></td><td></td><td>2021-01-26</td><td>R</td><td>N</td><td>R</td><td>N</td><td>-1.0</td><td>None</td></tr></tbody></table><p>Type in your query to retrieve list of all tables in the database for your db2 schema (username)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#In Db2 the system catalog table called SYSCAT.TABLES contains the table metadata</span></span><br><span class="line"></span><br><span class="line">%sql select TABSCHEMA, TABNAME, CREATE_TIME <span class="keyword">from</span> SYSCAT.TABLES where TABSCHEMA=<span class="string">&#x27;WLS55462&#x27;</span> LIMIT <span class="number">3</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>tabschema</th><th>tabname</th><th>create_time</th></tr></thead><tbody><tr><td>WLS55462</td><td>EMPLOYEES</td><td>2021-01-24 11:14:20.259934</td></tr><tr><td>WLS55462</td><td>JOB_HISTORY</td><td>2021-01-24 11:14:20.445895</td></tr><tr><td>WLS55462</td><td>LOCATIONS</td><td>2021-01-24 11:14:20.941819</td></tr></tbody></table><p>Or, you can retrieve list of all tables where the schema name is not one of the system created ones:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">%sql select TABSCHEMA, TABNAME, CREATE_TIME <span class="keyword">from</span> SYSCAT.TABLES \</span><br><span class="line">      where TABSCHEMA <span class="keyword">not</span> <span class="keyword">in</span> (<span class="string">&#x27;SYSIBM&#x27;</span>, <span class="string">&#x27;SYSCAT&#x27;</span>, <span class="string">&#x27;SYSSTAT&#x27;</span>, <span class="string">&#x27;SYSIBMADM&#x27;</span>, <span class="string">&#x27;SYSTOOLS&#x27;</span>, <span class="string">&#x27;SYSPUBLIC&#x27;</span>) LIMIT <span class="number">3</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>tabschema</th><th>tabname</th><th>create_time</th></tr></thead><tbody><tr><td>WLS55462</td><td>EMPLOYEES</td><td>2021-01-24 11:14:20.259934</td></tr><tr><td>WLS55462</td><td>JOB_HISTORY</td><td>2021-01-24 11:14:20.445895</td></tr><tr><td>WLS55462</td><td>LOCATIONS</td><td>2021-01-24 11:14:20.941819</td></tr></tbody></table><p>Or, just query for a specifc table that you want to verify exists in the database</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%sql select * <span class="keyword">from</span> SYSCAT.TABLES where TABNAME = <span class="string">&#x27;SCHOOLS&#x27;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>tabschema</th><th>tabname</th><th>owner</th><th>ownertype</th><th>TYPE</th><th>status</th><th>base_tabschema</th><th>base_tabname</th><th>rowtypeschema</th><th>rowtypename</th><th>create_time</th><th>alter_time</th><th>invalidate_time</th><th>stats_time</th><th>colcount</th><th>tableid</th><th>tbspaceid</th><th>card</th><th>npages</th><th>mpages</th><th>fpages</th><th>npartitions</th><th>nfiles</th><th>tablesize</th><th>overflow</th><th>tbspace</th><th>index_tbspace</th><th>long_tbspace</th><th>parents</th><th>children</th><th>selfrefs</th><th>keycolumns</th><th>keyindexid</th><th>keyunique</th><th>checkcount</th><th>datacapture</th><th>const_checked</th><th>pmap_id</th><th>partition_mode</th><th>log_attribute</th><th>pctfree</th><th>append_mode</th><th>REFRESH</th><th>refresh_time</th><th>LOCKSIZE</th><th>VOLATILE</th><th>row_format</th><th>property</th><th>statistics_profile</th><th>compression</th><th>rowcompmode</th><th>access_mode</th><th>clustered</th><th>active_blocks</th><th>droprule</th><th>maxfreespacesearch</th><th>avgcompressedrowsize</th><th>avgrowcompressionratio</th><th>avgrowsize</th><th>pctrowscompressed</th><th>logindexbuild</th><th>codepage</th><th>collationschema</th><th>collationname</th><th>collationschema_orderby</th><th>collationname_orderby</th><th>encoding_scheme</th><th>pctpagessaved</th><th>last_regen_time</th><th>secpolicyid</th><th>protectiongranularity</th><th>auditpolicyid</th><th>auditpolicyname</th><th>auditexceptionenabled</th><th>definer</th><th>oncommit</th><th>logged</th><th>onrollback</th><th>lastused</th><th>control</th><th>temporaltype</th><th>tableorg</th><th>extended_row_size</th><th>pctextendedrows</th><th>remarks</th></tr></thead><tbody><tr><td>WLS55462</td><td>SCHOOLS</td><td>WLS55462</td><td>U</td><td>T</td><td>N</td><td>None</td><td>None</td><td>None</td><td>None</td><td>2021-01-26 03:34:00.898765</td><td>2021-01-26 03:34:00.898765</td><td>2021-01-26 03:34:00.898765</td><td>None</td><td>78</td><td>13</td><td>833</td><td>-1</td><td>-1</td><td>-1</td><td>-1</td><td>-1</td><td>-1</td><td>-1</td><td>-1</td><td>wls55462space1</td><td>None</td><td>None</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>N</td><td>YYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY</td><td>1</td><td></td><td>0</td><td>-1</td><td>N</td><td></td><td>None</td><td>R</td><td></td><td>N</td><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td>None</td><td>N</td><td></td><td>F</td><td>None</td><td>-1</td><td>N</td><td>999</td><td>-1</td><td>-1.0</td><td>-1</td><td>-1.0</td><td>None</td><td>1208</td><td>SYSIBM</td><td>IDENTITY</td><td>SYSIBM</td><td>IDENTITY</td><td></td><td>-1</td><td>2021-01-26 03:34:00.898765</td><td>0</td><td></td><td>None</td><td>None</td><td>N</td><td>WLS55462</td><td></td><td></td><td></td><td>0001-01-01</td><td></td><td>N</td><td>R</td><td>N</td><td>-1.0</td><td>None</td></tr></tbody></table><p>To obtain the column names query syscat.columns:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%sql select * <span class="keyword">from</span> SYSCAT.COLUMNS where TABNAME = <span class="string">&#x27;SCHOOLS&#x27;</span> LIMIT <span class="number">3</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>tabschema</th><th>tabname</th><th>colname</th><th>colno</th><th>typeschema</th><th>typename</th><th>length</th><th>scale</th><th>typestringunits</th><th>stringunitslength</th><th>DEFAULT</th><th>NULLS</th><th>codepage</th><th>collationschema</th><th>collationname</th><th>logged</th><th>compact</th><th>colcard</th><th>high2key</th><th>low2key</th><th>avgcollen</th><th>keyseq</th><th>partkeyseq</th><th>nquantiles</th><th>nmostfreq</th><th>numnulls</th><th>target_typeschema</th><th>target_typename</th><th>scope_tabschema</th><th>scope_tabname</th><th>source_tabschema</th><th>source_tabname</th><th>dl_features</th><th>special_props</th><th>hidden</th><th>inline_length</th><th>pctinlined</th><th>IDENTITY</th><th>rowchangetimestamp</th><th>GENERATED</th><th>text</th><th>compress</th><th>avgdistinctperpage</th><th>pagevarianceratio</th><th>sub_count</th><th>sub_delim_length</th><th>avgcollenchar</th><th>implicitvalue</th><th>seclabelname</th><th>rowbegin</th><th>rowend</th><th>transactionstartid</th><th>pctencoded</th><th>avgencodedcollen</th><th>qualifier</th><th>func_path</th><th>randdistkey</th><th>remarks</th></tr></thead><tbody><tr><td>WLS55462</td><td>SCHOOLS</td><td>ZIP_Code</td><td>6</td><td>SYSIBM</td><td>INTEGER</td><td>4</td><td>0</td><td>None</td><td>None</td><td>None</td><td>Y</td><td>0</td><td>None</td><td>None</td><td></td><td></td><td>51</td><td>60707</td><td>60607</td><td>5</td><td>None</td><td>0</td><td>20</td><td>10</td><td>0</td><td>None</td><td>None</td><td>None</td><td>None</td><td>None</td><td>None</td><td>None</td><td>None</td><td></td><td>0</td><td>-1</td><td>N</td><td>N</td><td></td><td>None</td><td>O</td><td>None</td><td>-1.0</td><td>-1</td><td>-1</td><td>-1</td><td>None</td><td>None</td><td>N</td><td>N</td><td>N</td><td>-1</td><td>-1.0</td><td>None</td><td>None</td><td>N</td><td>None</td></tr><tr><td>WLS55462</td><td>SCHOOLS</td><td>Phone_Number</td><td>7</td><td>SYSIBM</td><td>VARCHAR</td><td>14</td><td>0</td><td>OCTETS</td><td>14</td><td>None</td><td>Y</td><td>1208</td><td>SYSIBM</td><td>IDENTITY</td><td></td><td></td><td>566</td><td>&#x27;(773) 535-9930&#x27;</td><td>&#x27;(773) 534-0146&#x27;</td><td>19</td><td>None</td><td>0</td><td>20</td><td>10</td><td>0</td><td>None</td><td>None</td><td>None</td><td>None</td><td>None</td><td>None</td><td>None</td><td>None</td><td></td><td>0</td><td>-1</td><td>N</td><td>N</td><td></td><td>None</td><td>O</td><td>None</td><td>-1.0</td><td>-1</td><td>-1</td><td>14</td><td>None</td><td>None</td><td>N</td><td>N</td><td>N</td><td>-1</td><td>-1.0</td><td>None</td><td>None</td><td>N</td><td>None</td></tr><tr><td>WLS55462</td><td>SCHOOLS</td><td>Link</td><td>8</td><td>SYSIBM</td><td>VARCHAR</td><td>78</td><td>0</td><td>OCTETS</td><td>78</td><td>None</td><td>Y</td><td>1208</td><td>SYSIBM</td><td>IDENTITY</td><td></td><td></td><td>2</td><td>&#x27;&#x27;</td><td>&#x27;http://schoolreports.cps.edu/Scho&#x27;</td><td>83</td><td>None</td><td>0</td><td>20</td><td>10</td><td>1</td><td>None</td><td>None</td><td>None</td><td>None</td><td>None</td><td>None</td><td>None</td><td>None</td><td></td><td>0</td><td>-1</td><td>N</td><td>N</td><td></td><td>None</td><td>O</td><td>None</td><td>-1.0</td><td>-1</td><td>-1</td><td>78</td><td>None</td><td>None</td><td>N</td><td>N</td><td>N</td><td>-1</td><td>-1.0</td><td>None</td><td>None</td><td>N</td><td>None</td></tr></tbody></table><p>To obtain specific column properties:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">%sql select distinct(name), coltype, length \</span><br><span class="line">    <span class="keyword">from</span> SYSIBM.SYSCOLUMNS \</span><br><span class="line">    where TBNAME = <span class="string">&#x27;SCHOOLS&#x27;</span> LIMIT <span class="number">3</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>name</th><th>coltype</th><th>length</th></tr></thead><tbody><tr><td>10th Grade PLAN (2009)</td><td>VARCHAR</td><td>4</td></tr><tr><td>10th Grade PLAN (2010)</td><td>VARCHAR</td><td>4</td></tr><tr><td>11th Grade Average ACT (2011)</td><td>VARCHAR</td><td>4</td></tr></tbody></table><h2 id="Other-tips"><a href="#Other-tips" class="headerlink" title="Other tips"></a>Other tips</h2><h3 id="Query-column-names-with-mixed-case"><a href="#Query-column-names-with-mixed-case" class="headerlink" title="Query column names with mixed case"></a>Query column names with mixed case</h3><p>Retrieve Id column from DOGS table. Try:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">id</span> <span class="keyword">from</span> DOGS</span><br></pre></td></tr></table></figure><p>If you run this query, you will get this error:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error: &quot;ID&quot; is not valid in the context where it is used .. SQLCODE&#x3D;-206, SQLSTATE&#x3D;42703, DRIVER&#x3D;4.22.36</span><br></pre></td></tr></table></figure><p>Use double quotes to specify mixed-case column names:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="string">&quot;Id&quot;</span> <span class="keyword">from</span> DOGS</span><br></pre></td></tr></table></figure><h3 id="Query-column-names-with-spaces-and-special-characters"><a href="#Query-column-names-with-spaces-and-special-characters" class="headerlink" title="Query column names with spaces and special characters"></a>Query column names with spaces and special characters</h3><p>By deafult, spaces are mapped to underscores:</p><p>e.g. <code>Name of Dog</code> -&gt; <code>Name_of_Dog</code></p><p>Other characters may also get mapped to underscores:</p><p>e.g. <code>Breed (dominant breed if not pure breed)</code> -&gt; <code>Breed__dominant_breed_if_not_pure_breed_</code></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="string">&quot;Id&quot;</span>, <span class="string">&quot;Name_of_Dog&quot;</span>, <span class="string">&quot;Breed__dominant_breed_if_not_pure_breed_&quot;</span> <span class="keyword">from</span> dogs</span><br></pre></td></tr></table></figure><h3 id="Use-quotes-in-Jupyter-notebooks"><a href="#Use-quotes-in-Jupyter-notebooks" class="headerlink" title="Use quotes in Jupyter notebooks"></a>Use quotes in Jupyter notebooks</h3><p>First assign queries to variables:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">selectQuery = <span class="string">&#x27;select &quot;Id&quot; from dogs&#x27;</span></span><br></pre></td></tr></table></figure><p>Use a backslash <code>\</code> as the escape character in cases where the query contains single quotes:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">selectQuery = <span class="string">&#x27;select * from dogs</span></span><br><span class="line"><span class="string">	where &quot;Name_of_Dog&quot;=\&#x27;Huggy\&#x27; &#x27;</span></span><br></pre></td></tr></table></figure></div><div><div><div style="text-align:center;color:#555;font-size:20px">------------------ &emsp; The End &emsp;<i class="fas fa-cat"></i>&emsp; Thanks for reading &emsp; ------------------</div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者： </strong>买猫咪的小鱼干</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="https://ycchen00.github.io/2021/08/18/DSci/SQL/SQL+Python%20API%E7%9B%B8%E5%85%B3%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B(SQL4DS%E7%AC%94%E8%AE%B0)/" title="SQL | SQL+Python API相关入门教程">https://ycchen00.github.io/2021/08/18/DSci/SQL/SQL+Python API相关入门教程(SQL4DS笔记)/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/DataScience/" rel="tag"><i class="fas fa-fish"></i> DataScience</a> <a href="/tags/Visualization/" rel="tag"><i class="fas fa-fish"></i> Visualization</a> <a href="/tags/Python/" rel="tag"><i class="fas fa-fish"></i> Python</a> <a href="/tags/SQL/" rel="tag"><i class="fas fa-fish"></i> SQL</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2021/08/18/DSci/Excel/DAExcel%E6%95%99%E7%A8%8B(DAuE%E7%AC%94%E8%AE%B0)/" rel="prev" title="Excel | Data Analysis Excel教程"><i class="fa fa-chevron-left"></i> Excel | Data Analysis Excel教程</a></div><div class="post-nav-item"><a href="/2021/08/18/DSci/Visualization/Folium%E6%95%99%E7%A8%8B(DVwP%E7%AC%94%E8%AE%B0)/" rel="next" title="Folium | Tutorials">Folium | Tutorials <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments"><div id="disqus_thread"><noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript></div></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><div><canvas id="canvas" style="width:60%">当前浏览器不支持canvas，请更换浏览器后再试</canvas></div><script>!function(){var o,a,r,f,t,i=[[[0,0,1,1,1,0,0],[0,1,1,0,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,0,1,1,0],[0,0,1,1,1,0,0]],[[0,0,0,1,1,0,0],[0,1,1,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[1,1,1,1,1,1,1]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,1,1,0,0,0],[0,1,1,0,0,0,0],[1,1,0,0,0,0,0],[1,1,0,0,0,1,1],[1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,1,1,0],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,0,0,0,1,1,0],[0,0,0,1,1,1,0],[0,0,1,1,1,1,0],[0,1,1,0,1,1,0],[1,1,0,0,1,1,0],[1,1,1,1,1,1,1],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,1,1,1,1]],[[1,1,1,1,1,1,1],[1,1,0,0,0,0,0],[1,1,0,0,0,0,0],[1,1,1,1,1,1,0],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,0,0,0,1,1,0],[0,0,1,1,0,0,0],[0,1,1,0,0,0,0],[1,1,0,0,0,0,0],[1,1,0,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[1,1,1,1,1,1,1],[1,1,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,1,1,0,0,0,0]],[[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0]]],e=document.getElementById("canvas");function h(t,e){for(var n=[1,2,3],l=["#3BE","#09C","#A6C","#93C","#9C0","#690","#FB3","#F80","#F44","#C00"],o=0;o<i[e].length;o++)for(var a,h=0;h<i[e][o].length;h++)1==i[e][o][h]&&(a={x:14*(f+2)*t+2*h*(f+1)+(f+1),y:2*o*(f+1)+(f+1),stepX:Math.floor(4*Math.random()-2),stepY:-2*n[Math.floor(Math.random()*n.length)],color:l[Math.floor(Math.random()*l.length)],disY:1},r.push(a))}function n(){e.height=100;for(var t=0;t<a.length;t++)!function(t,e){for(var n=0;n<i[e].length;n++)for(var l=0;l<i[e][n].length;l++)1==i[e][n][l]&&(o.beginPath(),o.arc(14*(f+2)*t+2*l*(f+1)+(f+1),2*n*(f+1)+(f+1),f,0,2*Math.PI),o.closePath(),o.fill())}(t,a[t]);for(t=0;t<r.length;t++)o.beginPath(),o.arc(r[t].x,r[t].y,f,0,2*Math.PI),o.fillStyle=r[t].color,o.closePath(),o.fill()}e.getContext&&(o=e.getContext("2d"),e.height=100,e.width=700,o.fillStyle="#f00",o.fillRect(10,10,50,50),a=[],r=[],f=e.height/20-1,t=/(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date),a.push(t[1],t[2],10,t[3],t[4],10,t[5],t[6]),clearInterval(void 0),setInterval(function(){!function(){var t=[],e=/(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date),n=[];n.push(e[1],e[2],10,e[3],e[4],10,e[5],e[6]);for(var l=a.length-1;0<=l;l--)n[l]!==a[l]&&t.push(l+"_"+(Number(a[l])+1)%10);for(l=0;l<t.length;l++)h.apply(this,t[l].split("_"));a=n.concat()}(),function(){for(var t=0;t<r.length;t++)r[t].stepY+=r[t].disY,r[t].x+=r[t].stepX,r[t].y+=r[t].stepY,(r[t].x>700+f||r[t].y>100+f)&&(r.splice(t,1),t--)}(),n()},50))}()</script><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#SQL"><span class="nav-text">SQL</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduction-2-SQL"><span class="nav-text">Introduction 2 SQL</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Types-of-SQL-Statements-DDL-amp-DML"><span class="nav-text">Types of SQL Statements (DDL &amp; DML)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CHAR-VS-VARCHAR"><span class="nav-text">CHAR VS VARCHAR</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Basic-SQL"><span class="nav-text">Basic SQL</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#CREATE"><span class="nav-text">CREATE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#INSERT"><span class="nav-text">INSERT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UPDATE"><span class="nav-text">UPDATE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DELETE"><span class="nav-text">DELETE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SELECT"><span class="nav-text">SELECT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#WHERE"><span class="nav-text">WHERE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#COUNT"><span class="nav-text">COUNT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DISTINCT"><span class="nav-text">DISTINCT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LIMIT"><span class="nav-text">LIMIT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ORDER-BY"><span class="nav-text">ORDER BY</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#GROUP-BY"><span class="nav-text">GROUP BY</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Built-in-Functions"><span class="nav-text">Built-in Functions</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SUM-MIN-MAX-AVG"><span class="nav-text">SUM, MIN, MAX, AVG</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ROUND"><span class="nav-text">ROUND</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LENGTH"><span class="nav-text">LENGTH</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UCASE-LCASE"><span class="nav-text">UCASE, LCASE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Date-and-Time"><span class="nav-text">Date and Time</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#REPLACE"><span class="nav-text">REPLACE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CAST-AS%EF%BC%8C-DECIMAL"><span class="nav-text">CAST AS， DECIMAL</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Multiple-Tables"><span class="nav-text">Multiple Tables</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Implicit-Join"><span class="nav-text">Implicit Join</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Inner-Join"><span class="nav-text">Inner Join</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Outer-Join-LEFT-JOIN-RIGHT-JOIN-FULL-JOIN"><span class="nav-text">Outer Join: LEFT JOIN, RIGHT JOIN, FULL JOIN</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IBM-Cloud"><span class="nav-text">IBM Cloud</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Open-Service"><span class="nav-text">Open Service</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Open-Console"><span class="nav-text">Open Console</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RUN-SQL"><span class="nav-text">RUN SQL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Look-at-tables"><span class="nav-text">Look at tables</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Load-Data"><span class="nav-text">Load Data</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Date-Time-Timestamp-format"><span class="nav-text">Date &#x2F; Time &#x2F; Timestamp format</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Create-credentials"><span class="nav-text">Create credentials</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-API"><span class="nav-text">SQL API</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Introduction"><span class="nav-text">Introduction</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Usage"><span class="nav-text">Usage</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Import-the-ibm-db-Python-library"><span class="nav-text">Import the ibm_db Python library</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Identify-the-database-connection-credentials"><span class="nav-text">Identify the database connection credentials</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Create-the-DB2-database-connection"><span class="nav-text">Create the DB2 database connection</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Close-the-Connection"><span class="nav-text">Close the Connection</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Create-a-table"><span class="nav-text">Create a table</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Insert-data-into-the-table"><span class="nav-text">Insert data into the table</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Query-data-in-the-table"><span class="nav-text">Query data in the table</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Retrieve-data-into-Pandas"><span class="nav-text">Retrieve data into Pandas</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL-Magic"><span class="nav-text">SQL Magic</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Introduction-1"><span class="nav-text">Introduction</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link"><span class="nav-text">This image shows the location of your connection string if you&#39;re using Db2 on IBM Cloud. If you&#39;re using another host the format is: username:password@hostname:port&#x2F;database-name</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Splitting-into-multiple-lines-in-Jupyter"><span class="nav-text">Splitting into multiple lines in Jupyter</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Using-Python-Variables-in-your-SQL-Statements"><span class="nav-text">Using Python Variables in your SQL Statements</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Assigning-the-Results-of-Queries-to-Python-Variables"><span class="nav-text">Assigning the Results of Queries to Python Variables</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Converting-Query-Results-to-DataFrames"><span class="nav-text">Converting Query Results to DataFrames</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Store-the-dataset-in-a-Table"><span class="nav-text">Store the dataset in a Table</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Other-tips"><span class="nav-text">Other tips</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Query-column-names-with-mixed-case"><span class="nav-text">Query column names with mixed case</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Query-column-names-with-spaces-and-special-characters"><span class="nav-text">Query column names with spaces and special characters</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Use-quotes-in-Jupyter-notebooks"><span class="nav-text">Use quotes in Jupyter notebooks</span></a></li></ol></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="买猫咪的小鱼干" src="/images/avatar_blackRainbow.jpg"><p class="site-author-name" itemprop="name">买猫咪的小鱼干</p><div class="site-description" itemprop="description">overthinker</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">72</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">34</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">54</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/ycchen00" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ycchen00" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:cyc348674274@gmail.com" title="E-Mail → mailto:cyc348674274@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a> </span><span class="links-of-author-item"><a href="https://blog.csdn.net/weixin_43360896" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;weixin_43360896" rel="noopener" target="_blank"><i class="fas fa-crosshairs fa-fw"></i>CSDN</a> </span><span class="links-of-author-item"><a href="https://twitter.com/cyc86908399" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;cyc86908399" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a></span></div><div class="cc-license motion-element" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a></div><div class="links-of-blogroll motion-element links-of-blogroll-block"><div class="links-of-blogroll-title"><i class="fa fa-history fa-" aria-hidden="true"></i> 近期文章</div><ul class="links-of-blogroll-list"><li><a href="/2023/11/23/CFA%20level%201/" title="CFA level 1 总结" target="_blank">CFA level 1 总结</a></li><li><a href="/2023/11/23/GEE/GEE%E7%9B%AE%E5%BD%95/" title="GEE(Google Earth Engine)目录" target="_blank">GEE(Google Earth Engine)目录</a></li><li><a href="/2021/08/18/Travel/Yunnan/" title="云南旅游" target="_blank">云南旅游</a></li><li><a href="/2021/08/18/Travel/Hubei/" title="湖北三人游" target="_blank">湖北三人游</a></li><li><a href="/2021/08/18/Tip/Windows/Windows%20%E8%93%9D%E7%89%99%E6%B6%88%E5%A4%B1/" title="Windows | 蓝牙忽然消失" target="_blank">Windows | 蓝牙忽然消失</a></li></ul></div><script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script><script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script><div class="widget-wrap"><div id="myCanvasContainer" class="widget tagcloud"><canvas width="250" height="250" id="resCanvas" style="width:100%"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Business/" rel="tag">Business</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CFA/" rel="tag">CFA</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CFA-level-1/" rel="tag">CFA level 1</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Colab/" rel="tag">Colab</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Coursera/" rel="tag">Coursera</a><span class="tag-list-count">26</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Data-analytics/" rel="tag">Data analytics</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DataFrame/" rel="tag">DataFrame</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DataScience/" rel="tag">DataScience</a><span class="tag-list-count">32</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Debug/" rel="tag">Debug</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Excel/" rel="tag">Excel</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Folium/" rel="tag">Folium</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GPU/" rel="tag">GPU</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GRE/" rel="tag">GRE</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Google/" rel="tag">Google</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Google-Earth-Engine/" rel="tag">Google Earth Engine</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jupyter-Notebook/" rel="tag">Jupyter Notebook</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Machine-learning/" rel="tag">Machine learning</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/" rel="tag">Markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Matplotlib/" rel="tag">Matplotlib</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OneNote/" rel="tag">OneNote</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Pandas/" rel="tag">Pandas</a><span class="tag-list-count">18</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PayPal/" rel="tag">PayPal</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Photography/" rel="tag">Photography</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Remote-sensing/" rel="tag">Remote sensing</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/" rel="tag">SQL</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Seaborn/" rel="tag">Seaborn</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Travel/" rel="tag">Travel</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Visualization/" rel="tag">Visualization</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Waffle-Charts/" rel="tag">Waffle Charts</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Windows/" rel="tag">Windows</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cmd/" rel="tag">cmd</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cmder/" rel="tag">cmder</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/crawler/" rel="tag">crawler</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iPhone/" rel="tag">iPhone</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/json/" rel="tag">json</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pip/" rel="tag">pip</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shortcuts/" rel="tag">shortcuts</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wordcloud/" rel="tag">wordcloud</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" rel="tag">个人博客</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%BD%E6%B1%9F/" rel="tag">丽江</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%91%E5%8D%97/" rel="tag">云南</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%87%BA%E5%9B%BD/" rel="tag">出国</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%A7%E7%90%86/" rel="tag">大理</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%81%A9%E6%96%BD/" rel="tag">恩施</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E5%AD%A6/" rel="tag">数学</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%98%86%E6%98%8E/" rel="tag">昆明</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B9%96%E5%8C%97/" rel="tag">湖北</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/" rel="tag">离散数学</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%8B%B1%E8%AF%AD/" rel="tag">英语</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B0%83%E9%85%92/" rel="tag">调酒</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a><span class="tag-list-count">1</span></li></ul></canvas></div></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2020 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="fas fa-fish"></i> </span><span class="author" itemprop="copyrightHolder">买猫咪的小鱼干</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-chart-area"></i> </span><span title="站点总字数">369k</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="站点阅读时长">5:35</span></div><script color="0,0,0" opacity="0.5" zindex="-1" count="150" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span><script>var now=new Date;function createtime(){var n=new Date("10/18/2020 20:20:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="本站已安全运行 "+dnum+" 天 ",document.getElementById("times").innerHTML=hnum+" 小时 "+mnum+" 分 "+snum+" 秒"}setInterval("createtime()",250)</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>(function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.id);
      var title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              leancloudSelector(url).innerText = 'Counter not initialized! More info at console err msg.';
              console.error('ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.');
            
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            let target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    let { app_id, app_key, server_url } = {"enable":true,"app_id":null,"app_key":null,"server_url":null,"security":true};
    function fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();</script></div></footer></div><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script defer src="/lib/three/three.min.js"></script><script>!function(){var e,t,o,n,r=document.getElementsByTagName("link");if(0<r.length)for(i=0;i<r.length;i++)"canonical"==r[i].rel.toLowerCase()&&r[i].href&&(e=r[i].href);t=(e||window.location.protocol).split(":")[0],e=e||window.location.href,window,o=e,n=document.referrer,/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi.test(o)||(t="https"===String(t).toLowerCase()?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif",n?(t+="?r="+encodeURIComponent(document.referrer),o&&(t+="&l="+o)):o&&(t+="?l="+o),(new Image).src=t)}()</script><script src="/js/local-search.js"></script><script>function loadCount(){var d=document,n=d.createElement("script");n.src="https://ycchen00.disqus.com/count.js",n.id="dsq-count-scr",(d.head||d.body).appendChild(n)}window.addEventListener("load",loadCount,!1)</script><script>var disqus_config = function() {
    this.page.url = "https://ycchen00.github.io/2021/08/18/DSci/SQL/SQL+Python%20API%E7%9B%B8%E5%85%B3%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B(SQL4DS%E7%AC%94%E8%AE%B0)/";
    this.page.identifier = "2021/08/18/DSci/SQL/SQL+Python API相关入门教程(SQL4DS笔记)/";
    this.page.title = "SQL | SQL+Python API相关入门教程";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://ycchen00.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });</script><script type="text/javascript" src="/js/coreSocialistValues.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,model:{jsonPath:"/live2dw/assets/hijiki.model.json"},display:{position:"left",width:150,height:300},mobile:{show:!1},log:!1})</script></body></html>