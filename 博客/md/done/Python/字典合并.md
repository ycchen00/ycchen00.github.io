
---
 title: Python | 字典合并
 date: 
 updated: 
 categories:
 - Python
 tags:
 - Python
 - dict
---
>python字典合并合集
<!--less-->
﻿
# 合并(更新)字典
key如果相同，则会被覆盖
```python
A = {'a': 11, 'b': 22}
B = {'b': 48, 'd': 13}
#update() 把字典B的键/值对更新到A里
A.update(B)
print(A)
```
	{'a': 11, 'b': 48, 'd': 13}

或者pythonic的字典拆分：

```python
A = {'a': 11, 'b': 22}
B = {'b': 48, 'd': 13}
{**A,**B}
{**B,**A}
```
	{'a': 11, 'b': 48, 'd': 13}
	{'b': 22, 'd': 13, 'a': 11}
	
# 字典value相加

```python
from collections import Counter

A = {'a': 11, 'b': 22}
B = {'b': 48, 'd': 13}

dict(Counter(A)+Counter(B))
```
	{'a': 11, 'b': 70, 'd': 13}

# 合并(不代替)字典

```python
from collections import defaultdict
lst = [{'a': 123}, {'a': 456},{'b': 789}]

dic = {}
for _ in lst:
    for k, v in _.items():
        dic.setdefault(k, []).append(v)
        
dic
```
	{'a': [123, 456], 'b': [789]}

# 相同键整合成列表
`zip`、`map`、`lambda`三个花里胡哨兄弟的优雅结合，来自这篇[博客](https://blog.csdn.net/GiveMeFive_Y/article/details/79204361)：

```python
test = [
    {"time": "09:00", "dt":{"key1": "a", "key2": "d", "key3": "g"}},
    {"time": "10:00", "dt":{"key1": "b", "key2": "e", "key3": "h"}}, 
    {"time":"11:00", "dt":{"key1": "c", "key2":"f", "key3":"i"}}
]

time, key1, key2, key3 = map(list,zip(*map(lambda x: (x['time'], x['dt']['key1'], x['dt']['key2'], x['dt']['key3']), test)))

time
key1
key2
key3
```
	['09:00', '10:00', '11:00']
	['a', 'b', 'c']
	['d', 'e', 'f']
	['g', 'h', 'i']

